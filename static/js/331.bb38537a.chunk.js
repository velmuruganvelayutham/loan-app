"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[331],{2331:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var a=t(9439),c=t(2791),r=t(7022),l=t(9743),i=t(3855),s=t(2677),o=t(3360),d=t(3433),h=(t(7632),t(2591)),u=t(8116),m=t(9126),x=t(1243),j=t(2073),f=t(184),Z=function(e){var n=e.linemannames,t=e.setUpdateUI,r=(0,c.useState)(1),l=(0,a.Z)(r,2),i=l[0],s=l[1],o=5*i,Z=o-5,b=n.slice(Z,o),p=Math.ceil(Object.keys(n).length/5),v=(0,d.Z)(Array(p+1).keys()).slice(1),N=0;N=5*(i-1);return(0,f.jsx)(c.Fragment,{children:(0,f.jsxs)("div",{style:{margin:"5rem"},children:[(0,f.jsxs)(h.Z,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"No"}),(0,f.jsx)("th",{children:"Name"}),(0,f.jsx)("th",{children:"Mobile No"}),(0,f.jsx)("th",{children:"Action"})]})}),(0,f.jsx)("tbody",{children:b&&b.length>0?b.map((function(e){return N+=1,(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:N}),(0,f.jsx)("td",{children:e.linemanname}),(0,f.jsx)("td",{children:e.mobileno}),(0,f.jsx)("td",{children:(0,f.jsx)(m.yvY,{className:"icons",onClick:function(){return n=e._id,void x.Z.delete("".concat(j.v,"/linemancreate/delete/").concat(n)).then((function(e){t((function(e){return!e}))}));var n}})})]})})):"No Data Available"})]}),(0,f.jsx)("nav",{children:(0,f.jsxs)(u.Z,{children:[(0,f.jsx)(u.Z.Prev,{children:(0,f.jsx)("a",{href:"#",className:"page-link",onClick:function(){i!==Z&&s(i-1)},children:"Prev"})}),v.map((function(e,n){return(0,f.jsx)(u.Z.Item,{children:(0,f.jsx)("a",{href:"#",className:"page-link",onClick:function(){s(e)},children:e})})})),(0,f.jsx)(u.Z.Next,{children:(0,f.jsx)("a",{href:"#",className:"page-link",onClick:function(){i!==o&&(N=o,s(i+1))},children:"Next"})})]})})]})})},b=t(5691),p=t(9230),v=0;var N=function(){var e=(0,c.useState)(""),n=(0,a.Z)(e,2),t=n[0],d=n[1],h=(0,c.useState)(""),u=(0,a.Z)(h,2),m=u[0],N=u[1],g=(0,c.useState)([]),y=(0,a.Z)(g,2),k=y[0],C=y[1],S=(0,c.useState)(!1),M=(0,a.Z)(S,2),U=M[0],A=M[1],w=(0,c.useState)(null),E=(0,a.Z)(w,2),L=E[0],I=E[1],D=(0,c.useState)(!1),G=(0,a.Z)(D,2),_=G[0],q=G[1],z=(0,c.useState)(""),P=(0,a.Z)(z,2),F=P[0],O=P[1],R=(0,p.$G)(),T=R.t;R.i18n,(0,c.useEffect)((function(){q(!0),x.Z.get("".concat(j.v,"/linemancreate/get")).then((function(e){C(e.data),q(!1)})).catch((function(e){console.log("error=",e),O("Unable to fetch linenam list"),q(!1)}))}),[U]),(0,c.useEffect)((function(){q(!0),x.Z.get("".concat(j.v,"/linemancreate/get/max")).then((function(e){var n=e.data;q(!1),v=e.data.length>0?n[0].maxCode+1:1})).catch((function(e){O("Unable to fetch lineman list"),q(!1),console.log("error=",e)}))}),[]);var Y=(0,f.jsx)("div",{className:"text-center",children:(0,f.jsx)(Z,{linemannames:k,setUpdateUI:A})});return(0,f.jsxs)(r.Z,{style:{display:"flex"},children:[(0,f.jsx)("h2",{className:"text-center",children:"LINEMAN MASTER"}),(0,f.jsx)(l.Z,{className:"justify-content-md-center mt-5 ",children:(0,f.jsxs)(i.Z,{children:[(0,f.jsx)(l.Z,{className:"rounded bg-white",children:(0,f.jsx)(s.Z,{xs:12,md:12,children:(0,f.jsxs)(i.Z.Group,{className:"mb-3",name:"linemanname",border:"primary",children:[(0,f.jsx)(i.Z.Label,{children:"LineMan Name"}),(0,f.jsx)(i.Z.Control,{type:"text",placeholder:T("placeholder"),required:!0,value:t,onChange:function(e){return d(e.target.value)}})]})})}),(0,f.jsx)(l.Z,{className:"rounded bg-white",children:(0,f.jsx)(s.Z,{xs:12,md:12,children:(0,f.jsxs)(i.Z.Group,{className:"mb-3",name:"mobilenumber",border:"primary",children:[(0,f.jsx)(i.Z.Label,{children:"Mobile No"}),(0,f.jsx)(i.Z.Control,{type:"number",placeholder:"Enter Mobile No",required:!0,value:m,onChange:function(e){return N(e.target.value)}})]})})}),(0,f.jsxs)(l.Z,{className:"rounded bg-white",children:[(0,f.jsx)("div",{className:"text-center mb-2 ",children:(0,f.jsx)(o.Z,{variant:"primary",size:"lg",type:"submit",className:"text-center",onClick:L?function(){q(!0),x.Z.put("".concat(j.v,"/linemancreate/update/").concat(L),{linemanname:t,mobileno:m}).then((function(e){q(!1),A((function(e){return!e})),d(""),N(""),I(null)})).catch((function(e){O("Unable to update LineMan to the list"),q(!1),console.log("error=",e)}))}:function(){q(!0),x.Z.post("".concat(j.v,"/linemancreate/save"),{linemancode:v,linemanname:t,mobileno:m}).then((function(e){q(!1),d(""),N(""),A((function(e){return!e}))})).catch((function(e){O("Unable to ADD lineman to the list"),q(!1),console.log("error=",e)}))},children:"Submit"})}),_?(0,f.jsx)(b.Z,{}):Y,F&&(0,f.jsx)("div",{className:"error",children:F})]})]})})]})}}}]);
//# sourceMappingURL=331.bb38537a.chunk.js.map