"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[331],{2331:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var a=t(9439),r=t(2791),s=t(7022),l=t(9743),c=t(2677),i=t(3855),o=t(3360),d=t(3433),u=(t(7632),t(2591)),m=t(8116),h=t(719),x=t(9230),j=t(184),f=function(e){var n=e.linemannames,t=e.updateMode,s=(0,r.useState)(1),l=(0,a.Z)(s,2),c=l[0],i=l[1],o=(0,x.$G)(),f=o.t,p=(o.i18n,10*c),Z=p-10,v=n.slice(Z,p),g=Math.ceil(Object.keys(n).length/10),b=(0,d.Z)(Array(g+1).keys()).slice(1),y=0;return y=10*(c-1),(0,j.jsx)(r.Fragment,{children:(0,j.jsxs)("div",{style:{margin:"5rem"},children:[(0,j.jsxs)(u.Z,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{children:f("no")}),(0,j.jsx)("th",{children:f("lineman")}),(0,j.jsx)("th",{children:f("phoneno")}),(0,j.jsx)("th",{children:f("tableaction")})]})}),(0,j.jsx)("tbody",{children:v&&v.length>0?v.map((function(e){return y+=1,(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:y}),(0,j.jsx)("td",{children:e.linemanname}),(0,j.jsx)("td",{children:e.mobileno}),(0,j.jsx)("td",{children:(0,j.jsx)(h.vpV,{className:"icons",onClick:function(){return t(e._id,e.linemanname,e.mobileno)}})})]})})):f("tabledata")})]}),(0,j.jsx)("nav",{children:(0,j.jsxs)(m.Z,{children:[(0,j.jsx)(m.Z.Prev,{children:(0,j.jsx)("a",{href:"#",className:"page-link",onClick:function(){c!==Z&&i(c-1)},children:f("pageprev")})}),b.map((function(e,n){return(0,j.jsx)(m.Z.Item,{children:(0,j.jsx)("a",{href:"#",className:"page-link",onClick:function(){i(e)},children:e})})})),(0,j.jsx)(m.Z.Next,{children:(0,j.jsx)("a",{href:"#",className:"page-link",onClick:function(){c!==p&&(y=p,i(c+1))},children:f("pagenext")})})]})})]})})},p=t(1243),Z=t(2073),v=t(5691);var g=function(){var e=(0,r.useState)(""),n=(0,a.Z)(e,2),t=n[0],d=n[1],u=(0,r.useState)(""),m=(0,a.Z)(u,2),h=m[0],g=m[1],b=(0,r.useState)([]),y=(0,a.Z)(b,2),N=y[0],k=y[1],C=(0,r.useState)(!1),S=(0,a.Z)(C,2),w=S[0],E=S[1],G=(0,r.useState)(null),L=(0,a.Z)(G,2),M=L[0],_=L[1],q=(0,r.useState)(!1),A=(0,a.Z)(q,2),D=A[0],F=A[1],I=(0,r.useState)(""),O=(0,a.Z)(I,2),P=O[0],T=O[1],V=(0,x.$G)(),$=V.t,z=(V.i18n,(0,r.useState)(!1)),U=(0,a.Z)(z,2),B=U[0],H=U[1];(0,r.useEffect)((function(){F(!0),p.Z.get("".concat(Z.v,"/linemancreate/get")).then((function(e){k(e.data),F(!1)})).catch((function(e){console.log("error=",e),T($("errormessagelineman")),F(!1)}))}),[w]),(0,r.useEffect)((function(){document.addEventListener("keydown",(function(e){if("Enter"===e.key&&"INPUT"===e.target.nodeName){var n=e.target.form,t=Array.prototype.indexOf.call(n,e.target);n.elements[t+1].focus(),e.preventDefault()}}))}),[]);var J=function(){F(!0),p.Z.post("".concat(Z.v,"/linemancreate/save"),{linemanname:t,mobileno:h}).then((function(e){F(!1),d(""),g(""),E((function(e){return!e}))})).catch((function(e){T($("errormessagesavelineman")),F(!1),console.log("error=",e)})),alert($("savealertmessage"))},K=(0,j.jsx)("div",{className:"text-center",children:(0,j.jsx)(f,{linemannames:N,updateMode:function(e,n,t){d(n),g(t),_(e)}})});return(0,j.jsxs)(s.Z,{children:[(0,j.jsx)("h2",{className:"text-center",children:$("linemanheader")}),(0,j.jsx)(l.Z,{className:"justify-content-md-center mt-5 ",children:(0,j.jsx)(c.Z,{xs:6,lg:6,className:"rounded bg-white",children:(0,j.jsxs)(i.Z,{validated:B,children:[(0,j.jsx)(l.Z,{className:"rounded bg-white",children:(0,j.jsx)(c.Z,{xs:12,md:12,children:(0,j.jsxs)(i.Z.Group,{className:"mb-3",name:"linemanname",border:"primary",children:[(0,j.jsx)(i.Z.Label,{children:$("lineman")}),(0,j.jsx)(i.Z.Control,{type:"text",placeholder:$("linemanplaceholderlabel"),required:!0,value:t,onChange:function(e){return d(e.target.value)},autoFocus:!0})]})})}),(0,j.jsx)(l.Z,{className:"rounded bg-white",children:(0,j.jsx)(c.Z,{xs:12,md:12,children:(0,j.jsxs)(i.Z.Group,{className:"mb-3",name:"mobilenumber",border:"primary",children:[(0,j.jsx)(i.Z.Label,{children:$("phoneno")}),(0,j.jsx)(i.Z.Control,{type:"number",placeholder:$("phonenoplaceholder"),required:!0,value:h,onChange:function(e){return g(e.target.value)}})]})})}),(0,j.jsxs)(l.Z,{className:"rounded bg-white",children:[(0,j.jsxs)("div",{className:"col-md-12 text-center ",children:[(0,j.jsx)(o.Z,{variant:"primary",type:"submit",className:"text-center",onClick:M?function(){F(!0),p.Z.put("".concat(Z.v,"/linemancreate/update/").concat(M),{linemanname:t,mobileno:h}).then((function(e){F(!1),E((function(e){return!e})),d(""),g(""),_(null)})).catch((function(e){T($("errormessagesavelineman")),F(!1),console.log("error=",e)})),alert($("savealertmessage"))}:function(e){!1===e.currentTarget.checkValidity()&&e.preventDefault(),H(!0),""!==t&&""!==h&&J()},children:$("savebutton")})," ",(0,j.jsx)(o.Z,{variant:"primary",type:"button",className:"text-center",onClick:function(){d(""),g(""),_(null)},children:$("newbutton")})]}),D?(0,j.jsx)(v.Z,{}):K,P&&(0,j.jsx)("div",{className:"error",children:P})]})]})})})]})}}}]);
//# sourceMappingURL=331.b65bdc80.chunk.js.map