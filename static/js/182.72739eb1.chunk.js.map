{"version":3,"file":"static/js/182.72739eb1.chunk.js","mappings":"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","sources":["Receipt1.js"],"sourcesContent":["import React, { useEffect, useState, useRef, Fragment } from \"react\";\r\nimport { Button, Container, Form, Row, Col } from 'react-bootstrap';\r\nimport axios from \"axios\";\r\nimport { baseURL } from \"./utils/constant\";\r\nimport { Table, Pagination } from \"react-bootstrap\";\r\nimport { startOfWeek, dateFormat } from './FunctionsGlobal/StartDateFn';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport PlaceHolder from \"./components/spinner/placeholder\";\r\nfunction AddReceipt1() {\r\n  const { t, i18n } = useTranslation();\r\n  const [rowsData, setRowsData] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const startdateRef = useRef(startOfWeek())\r\n  const [isButtonDisabled, setButtonDisabled] = useState(false);\r\n  const [reference, setReference] = useState([]);\r\n  const [refresh, setRefresh] = useState(false);\r\n  const receiptRef = useRef(\"\");\r\n  //const [disabledcolumn, setDisabledColumn] = useState(true);\r\n  const [updateUI, setUpdateUI] = useState(false);\r\n  const [isRestore, setIsRestore] = useState(false);\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    axios.get(`${baseURL}/receipt1/get/reference`).then((res) => {\r\n      console.log(res.data);\r\n      receiptRef.current.value = res.data[0].receiptreference + (res.data[0].receiptcode + 1);\r\n      setReference(res.data)\r\n      setIsLoading(false);\r\n    }).catch(error => {\r\n      console.log(\"error=\", error);\r\n      setErrorMessage(t('errormessagecustomer'));\r\n      setIsLoading(false);\r\n    })\r\n  }, [refresh]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", function (event) {\r\n      if (event.key === \"Enter\" && event.target.nodeName === \"INPUT\") {\r\n        //alert(\"muru\");\r\n        var form = event.target.form;\r\n        var index = Array.prototype.indexOf.call(form, event.target);\r\n        form.elements[index + 1].focus();\r\n        event.preventDefault();\r\n      }\r\n    });\r\n  }, []);\r\n  const addTableRows = () => {\r\n    setIsRestore(false);\r\n    const rowsInput = {\r\n      serialno: rowsData.length + 1,\r\n      loanno: '',\r\n      customer_id: '',\r\n      customername: '',\r\n      loanamount: '',\r\n      dueamount: '',\r\n      weekno: '',\r\n      amount: ''\r\n    }\r\n    setRowsData([...rowsData, rowsInput])\r\n    //setDisabledColumn(true);\r\n  }\r\n  const deleteTableRows = (index) => {\r\n    const rows = [...rowsData];\r\n    rows.splice(index, 1);\r\n    setRowsData(rows);\r\n  }\r\n\r\n  const handleChange = (index, evnt) => {\r\n\r\n    const { name, value } = evnt.target;\r\n    const rowsInput = [...rowsData];\r\n    if (evnt.target.name == \"amount\") {\r\n      if (value > rowsInput[index]['loanamount']) {\r\n        alert(t('greateramountthanloan'));\r\n        rowsInput[index][name] = rowsInput[index]['amount'];\r\n      }\r\n      else {\r\n        rowsInput[index][name] = value;\r\n        setRowsData(rowsInput);\r\n      }\r\n    }\r\n    else {\r\n      rowsInput[index][name] = value;\r\n      setRowsData(rowsInput);\r\n    }\r\n\r\n  }\r\n  function RestoreLoan(e, index) {\r\n\r\n    if (e.target.value !== \"\") {\r\n      ProcessList(e, e.target.value, index);\r\n\r\n    }\r\n  }\r\n  function ProcessList(e, loanno, index) {\r\n    setIsLoading(true);\r\n    return (\r\n\r\n      axios.get(`${baseURL}/receipt1/get/loanpendingduplicate`, {\r\n        params:\r\n          { loanno: loanno, receiptdate: dateFormat(startdateRef.current.value).toString() }\r\n      }).then((res) => {\r\n        if (res.data.length > 0) {\r\n          let isexist = 0;\r\n          rowsData.find((checkloan, i) => {\r\n            if (loanno === checkloan.loanno && i !== index) {\r\n              isexist = 1;\r\n            }\r\n          })\r\n\r\n          if (isexist === 0) {\r\n            const Editcheck = rowsData.map((item, i) => {\r\n              if (i === index)\r\n\r\n                return { ...item, [\"customer_id\"]: res.data[0][\"_id\"].customer_id, [\"customername\"]: res.data[0][\"_id\"].customer, [\"loanamount\"]: res.data[0].pending, [\"dueamount\"]: res.data[0][\"_id\"].dueamount };\r\n              return item\r\n\r\n            });\r\n\r\n            setRowsData(Editcheck);\r\n\r\n          }\r\n          else {\r\n            alert(t('loanentryexist'));\r\n            const Editcheck = rowsData.map((item, i) => {\r\n              if (i === index)\r\n\r\n                return { ...item, [\"loanno\"]: \"\" };\r\n              return item\r\n\r\n            });\r\n            setRowsData(Editcheck);\r\n          }\r\n\r\n          setIsLoading(false);\r\n        }\r\n        else {\r\n          alert(t('loanentrynotexist'));\r\n          var formloan = e.target.form;\r\n          var indexloan = Array.prototype.indexOf.call(formloan, e.target);\r\n          e.target.value = \"\";\r\n          formloan.elements[indexloan].focus();\r\n          //rowsData[index][\"loanno\"]=\"\";\r\n          setIsLoading(false);\r\n        }\r\n\r\n\r\n      }).catch(error => {\r\n\r\n        console.log(\"error=\", error);\r\n        setErrorMessage(t('errormessageloan'));\r\n        setIsLoading(false);\r\n      })\r\n    )\r\n  }\r\n  const saveReceipt = () => {\r\n    let items = rowsData.map((item) => {\r\n      return {\r\n        receiptnumber: (receiptRef.current.value).toString(),\r\n        loannumber: item.loanno,\r\n        receiptdate: new Date(startdateRef.current.value),\r\n        customer_id: item.customer_id,\r\n        weekno: item.weekno,\r\n        collectedamount: item.amount\r\n      }\r\n    });\r\n    setButtonDisabled(true);\r\n    axios.post(`${baseURL}/receipt1/save/details`, {\r\n      items: items,\r\n      receiptref: (receiptRef.current.value).toString(),\r\n      receiptcode: (Number(reference[0].receiptcode) + 1),\r\n      receiptdate: new Date(startdateRef.current.value)\r\n    }).then((res) => {\r\n      setRowsData([]);\r\n      ClearDetails();\r\n      setButtonDisabled(false);\r\n      alert(t('savealertmessage'))\r\n    }).catch(error => {\r\n      console.log(\"error=\", error);\r\n      setErrorMessage(t('errormessagesavereceipt'));\r\n      setButtonDisabled(false);\r\n    })\r\n  }\r\n  const updateReceipt = () => {\r\n    let items = rowsData.map((item) => {\r\n      return {\r\n        receiptnumber: (receiptRef.current.value).toString(),\r\n        loannumber: item.loanno,\r\n        receiptdate: new Date(startdateRef.current.value),\r\n        customer_id: item.customer_id,\r\n        weekno: item.weekno,\r\n        collectedamount: item.amount\r\n      }\r\n    });\r\n    setButtonDisabled(true);\r\n    axios.post(`${baseURL}/receipt1/update/details`, {\r\n      items: items,\r\n      receiptno: (receiptRef.current.value).toString()\r\n    }).then((res) => {\r\n      setRowsData([]);\r\n      ClearDetails();\r\n      setButtonDisabled(false);\r\n      alert(t('savealertmessage'))\r\n    }).catch(error => {\r\n      console.log(\"error=\", error);\r\n      setErrorMessage(t('errormessagesavereceipt'));\r\n      setButtonDisabled(false);\r\n    })\r\n  }\r\n  const ClearDetails = () => {\r\n    setRowsData([]);\r\n    setUpdateUI(false);\r\n    setRefresh((prevState) => !prevState)\r\n    startdateRef.current.value = startOfWeek();\r\n  }\r\n  const RestoreReceipt = () => {\r\n    if (receiptRef.current.value != \"\") {\r\n      //alert((receiptRef.current.value).toString());\r\n      axios.get(`${baseURL}/receipt1/get`,\r\n        { params: { receiptno: (receiptRef.current.value).toString() } }).then((res) => {\r\n          setIsRestore(true);\r\n\r\n          const oldReference = res.data;\r\n          if (oldReference.length > 0) {\r\n            const parsedDate = dateFormat(oldReference[0].receiptdate);\r\n            startdateRef.current.value = parsedDate;\r\n            const rowsInput = oldReference.map((item, i) => {\r\n              return {\r\n                serialno: i + 1,\r\n                loanno: item.loannumber,\r\n                customer_id: item.customer_id,\r\n                customername: item.customer,\r\n                loanamount: item.balance + item.collectedamount,\r\n                dueamount: item.dueamount,\r\n                weekno: item.weekno,\r\n                amount: item.collectedamount\r\n              }\r\n            })\r\n            setRowsData(rowsInput);\r\n            setIsRestore(true);\r\n            setUpdateUI(true);\r\n          }\r\n          else {\r\n            ClearDetails()\r\n          }\r\n\r\n        })\r\n    }\r\n    setIsRestore(false);\r\n  }\r\n  const deleteReceipt = () => {\r\n\r\n    if (window.confirm(t('deleteyesnoalert'))) {\r\n      axios.delete(`${baseURL}/receipt1/delete/${(receiptRef.current.value).toString()}`).then((res) => {\r\n        alert(t('deletemessage'))\r\n        ClearDetails();\r\n      }).catch(error => {\r\n        console.log(\"error=\", error);\r\n        setErrorMessage(t('errormessagedeletereceipt'));\r\n        setIsLoading(false);\r\n        setButtonDisabled(false);\r\n      });\r\n    }\r\n  }\r\n  const handleSubmit = () => {\r\n    if (updateUI) {\r\n      updateReceipt();\r\n    }\r\n    else {\r\n      saveReceipt();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Form>\r\n        <Row>\r\n          <Col xs={12} md={3} className=\"rounded bg-white\">\r\n            <Form.Group className=\"mb-3\" name=\"startdate\" border=\"primary\" >\r\n              <Form.Label>{t('receiptno')}</Form.Label>\r\n              <Form.Control type=\"text\" ref={receiptRef} onBlur={RestoreReceipt} />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col xs={12} md={3} className=\"rounded bg-white\">\r\n            <Form.Group className=\"mb-3\" name=\"startdate\" border=\"primary\" >\r\n              <Form.Label>{t('date')}</Form.Label>\r\n              <Form.Control type=\"date\" placeholder=\"loan start date\" ref={startdateRef} defaultValue={startOfWeek()} />\r\n            </Form.Group>\r\n          </Col>\r\n\r\n        </Row>\r\n        <Row className=\"justify-content-md-center mt-5 \">\r\n\r\n          <Table className=\"table table-striped table-primary table-hover text-center  table-bordered border-dark\" size=\"sm\">\r\n            <thead>\r\n              <tr>\r\n                <th>{t('no')}</th>\r\n                <th>{t('loanno')}</th>\r\n                <th style={{ display: \"none\" }}>{t('customerid')}</th>\r\n                <th>{t('customer')}</th>\r\n                <th>{t('loanamount')}</th>\r\n                <th>{t('due')}</th>\r\n                <th>{t('weekno')}</th>\r\n                <th>{t('amount')}</th>\r\n                <th><Button className=\"btn btn-success\" onClick={addTableRows} >+</Button></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <TableRows rowsData={rowsData} deleteTableRows={deleteTableRows} handleChange={handleChange} RestoreLoan={RestoreLoan} isRestore={isRestore} />\r\n            </tbody>\r\n          </Table>\r\n        </Row>\r\n        <Row>\r\n          {isLoading ? <PlaceHolder /> : null}\r\n          {errorMessage && <div className=\"error\">{errorMessage}</div>}\r\n\r\n        </Row>\r\n        <Row >\r\n          <Col>\r\n          </Col>\r\n          <Col className=\"col-md-6\">\r\n            <Button variant=\"primary\" size=\"lg\" type=\"button\" className=\"text-center\" onClick={handleSubmit} disabled={isButtonDisabled}>\r\n              {updateUI ? t('updatebutton') : t('savebutton')}\r\n            </Button>{' '}\r\n            <Button variant=\"primary\" size=\"lg\" type=\"button\" className=\"text-center\" onClick={ClearDetails}>\r\n              {t('newbutton')}\r\n            </Button>{' '}\r\n            <Button variant=\"primary\" size=\"lg\" type=\"button\" className=\"text-center\"\r\n              onClick={deleteReceipt} disabled={updateUI ? false : true}>\r\n              {t('deletebutton')}\r\n            </Button>\r\n          </Col>\r\n\r\n          <Col></Col>\r\n        </Row>\r\n      </Form>\r\n    </Container>\r\n\r\n  )\r\n}\r\n\r\nfunction TableRows({ rowsData, deleteTableRows, handleChange, RestoreLoan, isRestore }) {\r\n  return (\r\n    rowsData.map((data, index) => {\r\n      const { serialno, loanno, customer_id, customername, loanamount, dueamount, weekno, amount } = data;\r\n      return (\r\n        <tr key={index}>\r\n          <td><input type=\"text\" value={serialno} name=\"serialno\" className=\"form-control\" disabled /></td>\r\n          <td>\r\n            <input type=\"text\" value={loanno} onChange={(evnt) => (handleChange(index, evnt))}\r\n              name=\"loanno\" className=\"form-control\" onBlur={(e) => RestoreLoan(e, index)} disabled={isRestore} />\r\n          </td>\r\n          <td style={{ display: \"none\" }}><input type=\"text\" value={customer_id} name=\"customer_id\" className=\"form-control\" /></td>\r\n          <td><input type=\"text\" value={customername} name=\"customername\" className=\"form-control\" disabled /></td>\r\n          <td><input type=\"text\" value={loanamount} name=\"loanamount\" className=\"form-control\" disabled /> </td>\r\n          <td><input type=\"text\" value={dueamount} name=\"dueamount\" className=\"form-control\" disabled /> </td>\r\n          <td><input type=\"number\" value={weekno} onChange={(evnt) => (handleChange(index, evnt))} name=\"weekno\" className=\"form-control\" /> </td>\r\n          <td><input type=\"number\" value={amount} onChange={(evnt) => (handleChange(index, evnt))} name=\"amount\" className=\"form-control\" /> </td>\r\n          <td><Button className=\"btn btn-danger\" onClick={() => (deleteTableRows(index))}>x</Button></td>\r\n        </tr>\r\n      )\r\n    })\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default AddReceipt1;"],"names":["TableRows","_ref","rowsData","deleteTableRows","handleChange","RestoreLoan","isRestore","map","data","index","serialno","loanno","customer_id","customername","loanamount","dueamount","weekno","amount","_jsxs","children","_jsx","type","value","name","className","disabled","onChange","evnt","onBlur","e","style","display","Button","onClick","_useTranslation","useTranslation","t","_useState","i18n","useState","_useState2","_slicedToArray","setRowsData","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","errorMessage","setErrorMessage","startdateRef","useRef","startOfWeek","_useState7","_useState8","isButtonDisabled","setButtonDisabled","_useState9","_useState10","reference","setReference","_useState11","_useState12","refresh","setRefresh","receiptRef","_useState13","_useState14","updateUI","setUpdateUI","_useState15","_useState16","setIsRestore","useEffect","axios","get","concat","baseURL","then","res","console","log","current","receiptreference","receiptcode","catch","error","document","addEventListener","event","key","target","nodeName","form","Array","prototype","indexOf","call","elements","focus","preventDefault","ClearDetails","prevState","Container","Form","Row","Col","xs","md","Group","border","Label","Control","ref","params","receiptno","toString","oldReference","length","parsedDate","dateFormat","receiptdate","rowsInput","item","i","loannumber","customer","balance","collectedamount","placeholder","defaultValue","Table","size","_toConsumableArray","rows","splice","_evnt$target","alert","isexist","find","checkloan","Editcheck","_objectSpread2","_objectSpread","_defineProperty","pending","formloan","indexloan","ProcessList","PlaceHolder","variant","items","receiptnumber","Date","post","updateReceipt","receiptref","Number","saveReceipt","window","confirm","delete"],"sourceRoot":""}