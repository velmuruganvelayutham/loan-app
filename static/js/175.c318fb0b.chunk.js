"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[175],{7175:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var a=t(9439),r=t(2791),c=t(7022),s=t(9743),l=t(3855),o=t(2677),i=t(3360),d=t(1243),u=t(2073),m=t(4942),h=t(1413),x=t(3433),p=(t(7632),t(2591)),f=t(8116),j=t(9230),Z=t(184),g=function(e){var n=e.pending,t=e.setpendingLoanFun,c=(0,r.useState)(1),s=(0,a.Z)(c,2),l=s[0],o=s[1],i=(0,j.$G)(),d=i.t,u=(i.i18n,20*l),g=u-20,b=n.slice(g,u),v=Math.ceil(Object.keys(n).length/20),k=(0,x.Z)(Array(v+1).keys()).slice(1);var y=(0,r.useState)([]),N=(0,a.Z)(y,2),C=N[0],w=N[1],S=(0,r.useState)({weak:"",amount:0}),L=(0,a.Z)(S,2),_=L[0],D=L[1],E=function(e,a){var r=e.target,c=r.name,s=r.value,l=n.map((function(e){return e.loannumber===a&&c?(0,h.Z)((0,h.Z)({},e),{},(0,m.Z)({},c,s)):e}));D(l);var o=n.map((function(e){return e.loannumber===a?(0,h.Z)((0,h.Z)({},e),{},(0,m.Z)({},c,s)):e}));t(o)};return(0,Z.jsx)(r.Fragment,{children:(0,Z.jsxs)("div",{className:"container-fluid ",children:[(0,Z.jsxs)(p.Z,{className:"table table-striped table-primary table-hover text-center fs-6 table-bordered border-dark  ",size:"sm",children:[(0,Z.jsx)("thead",{children:(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("th",{scope:"col",lg:1,className:"col-sm-12 col-md-1",children:(0,Z.jsx)("input",{type:"checkbox",onClick:function(e){if(e.target.checked){var a=n.map((function(e){return e.loannumber}));w(a)}else w([]);var r=n.map((function(n){return(0,h.Z)((0,h.Z)({},n),{},{check:e.target.checked})}));t(r)}})}),(0,Z.jsx)("th",{className:"col-sm-12 col-md-1",children:d("loanno")}),(0,Z.jsx)("th",{className:"col-sm-12 col-md-2",children:d("weekno")}),(0,Z.jsx)("th",{className:"col-sm-12 col-md-4",children:d("customer")}),(0,Z.jsx)("th",{className:"col-sm-12 col-md-2 text-end",children:d("due")}),(0,Z.jsx)("th",{className:"col-sm-12 col-md-2 text-end",children:d("amount")})]})}),(0,Z.jsx)("tbody",{children:b&&b.length>0?b.map((function(e,a){return 1,(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{className:"checkbox",children:(0,Z.jsx)("input",{name:"check",type:"checkbox",checked:C.includes(e.loannumber),value:e.loannumber,onChange:function(a){return function(e,a){var r=e.target.checked,c=parseInt(e.target.value);r?w([].concat((0,x.Z)(C),[c])):(t((0,h.Z)((0,h.Z)({},n),{},(0,m.Z)({},e.target.name,!1))),w((function(e){return e.filter((function(e){return e!==c}))})));var s=n.map((function(n){return n.loannumber===a?(0,h.Z)((0,h.Z)({},n),{},(0,m.Z)({},e.target.name,e.target.checked)):n}));t(s)}(a,e.loannumber)}})},C.includes(e.loannumber)),(0,Z.jsx)("td",{children:e.loannumber}),(0,Z.jsx)("td",{children:(0,Z.jsx)("input",{className:"form-control",name:"weak",value:_.weak,type:"number",onChange:function(n){return E(n,e.loannumber)},disabled:!C.includes(e.loannumber)})}),(0,Z.jsx)("td",{children:e._id.customer}),(0,Z.jsx)("td",{className:"text-end",children:e._id.dueamount}),(0,Z.jsx)("td",{children:(0,Z.jsx)("input",{className:"form-control text-end",name:"amount",value:_.amount,type:"number",onChange:function(n){return E(n,e.loannumber)},disabled:!C.includes(e.loannumber)})})]},e.loannumber)})):d("nodatas")})]}),(0,Z.jsx)("nav",{children:(0,Z.jsxs)(f.Z,{children:[(0,Z.jsx)(f.Z.Prev,{children:(0,Z.jsx)("a",{href:"#",className:"page-link",onClick:function(){l!==g&&o(l-1)},children:d("pageprev")})}),k.map((function(e,n){return(0,Z.jsx)(f.Z.Item,{children:(0,Z.jsx)("a",{href:"#",className:"page-link",onClick:function(){o(e)},children:e})})})),(0,Z.jsx)(f.Z.Next,{children:(0,Z.jsx)("a",{href:"#",className:"page-link",onClick:function(){l!==u&&(u,o(l+1))},children:d("pagenext")})})]})})]})})},b=t(6868),v=t(5691);var k=function(){var e=(0,r.useState)([]),n=(0,a.Z)(e,2),t=n[0],m=n[1],h=(0,r.useState)([]),x=(0,a.Z)(h,2),p=x[0],f=x[1],k=(0,r.useState)((0,b.zJ)()),y=(0,a.Z)(k,2),N=y[0],C=y[1],w=(0,r.useState)(0),S=(0,a.Z)(w,2),L=S[0],_=S[1],D=(0,j.$G)(),E=D.t,F=(D.i18n,(0,r.useState)(!1)),G=(0,a.Z)(F,2),I=G[0],P=G[1],z=(0,r.useState)(""),A=(0,a.Z)(z,2),O=A[0],$=A[1];(0,r.useEffect)((function(){P(!0),d.Z.get("".concat(u.v,"/citycreate/get")).then((function(e){m(e.data),P(!1)})).catch((function(e){console.log("error=",e),$(E("errormessagecity")),P(!1)}))}),[]),(0,r.useEffect)((function(){document.addEventListener("keydown",(function(e){if("Enter"===e.key&&"INPUT"===e.target.nodeName){var n=e.target.form,t=Array.prototype.indexOf.call(n,e.target);n.elements[t+1].focus(),e.preventDefault()}}))}),[]);var J=function(){return P(!0),d.Z.get("".concat(u.v,"/receipt/get/loanpending"),{params:{cityid:L.toString(),receiptdate:(0,b.vc)(N).toString()}}).then((function(e){f(e.data),P(!1)})).catch((function(e){console.log("error=",e),$(E("errormessageloan")),P(!1)}))},M=(0,Z.jsx)("div",{className:"col-md-12 text-center",children:(0,Z.jsx)(g,{pending:p,setpendingLoanFun:f})});return(0,Z.jsx)(c.Z,{children:(0,Z.jsx)(s.Z,{className:"justify-content-md-center mt-5 ",children:(0,Z.jsxs)(l.Z,{children:[(0,Z.jsxs)(s.Z,{children:[(0,Z.jsx)(o.Z,{xs:6,md:4,className:"rounded bg-white",children:(0,Z.jsxs)(l.Z.Group,{className:"mb-3",name:"lineno",border:"primary",children:[(0,Z.jsx)(l.Z.Label,{children:E("line")}),(0,Z.jsxs)(l.Z.Select,{"aria-label":"Default select example",onChange:function(e){return _(e.target.value)},value:L,children:[(0,Z.jsxs)("option",{value:0,children:[" ",E("lineplaceholder")]}),t.map((function(e){return(0,Z.jsx)("option",{value:e._id,children:e.cityname})}))]})]})}),(0,Z.jsx)(o.Z,{xs:12,md:1}),(0,Z.jsx)(o.Z,{xs:12,md:4,className:"rounded bg-white",children:(0,Z.jsxs)(l.Z.Group,{className:"mb-3",name:"startdate",border:"primary",children:[(0,Z.jsx)(l.Z.Label,{children:E("date")}),(0,Z.jsx)(l.Z.Control,{type:"date",placeholder:"loan start date",value:N,onChange:function(e){return C(e.target.value)}})]})})]}),(0,Z.jsx)(s.Z,{children:(0,Z.jsxs)("div",{className:"col-md-12 text-center ",children:[(0,Z.jsx)(i.Z,{variant:"primary",type:"button",className:"text-center",onClick:J,children:E("processbuttonlabel")})," "]})}),(0,Z.jsxs)(s.Z,{children:[I?(0,Z.jsx)(v.Z,{}):M,O&&(0,Z.jsx)("div",{className:"error",children:O})]}),(0,Z.jsxs)(s.Z,{children:[(0,Z.jsx)(o.Z,{}),(0,Z.jsx)(o.Z,{className:"col-md-3",children:(0,Z.jsx)(i.Z,{variant:"primary",type:"button",className:"text-center",onClick:function(){var e=0;p.find((function(n){return console.log(n.check),console.log(n.weak),console.log(n.amount),!0===n.check&&(""!=n.weak&&n.amount>0?(e=1,!0):(e=0,!0))}))?1===e?d.Z.post("".concat(u.v,"/receipt/save/details"),{receiptdata:p,receiptdate:new Date(N)}).then((function(e){})).then((function(e){f([]),J(),alert(E("savealertmessage"))})).catch((function(e){console.log("error=",e),$(E("errormessagesavereceipt"))})):alert("Properly Fill the Details"):alert(E("selectanyitemfromlist"))},children:E("savebutton")})}),(0,Z.jsx)(o.Z,{})]})]})})})}}}]);
//# sourceMappingURL=175.c318fb0b.chunk.js.map