"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[336],{2336:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var c=n(9439),i=n(2791),a=n(7022),l=n(9743),r=n(2677),s=n(3855),o=n(3360),u=n(1243),d=n(2073),h=n(3433),x=(n(7632),n(2591)),m=n(8116),f=n(7692),y=n(9126),j=n(9230),p=n(184),v=function(e){var t=e.citynames,n=e.setUpdateUI,a=e.updateMode,l=(0,j.$G)(),r=l.t,s=(l.i18n,(0,i.useState)(1)),o=(0,c.Z)(s,2),v=o[0],Z=o[1],b=5*v,g=b-5,k=t.slice(g,b),N=Math.ceil(Object.keys(t).length/5),C=(0,h.Z)(Array(N+1).keys()).slice(1),S=0;S=5*(v-1);return(0,p.jsx)(i.Fragment,{children:(0,p.jsxs)("div",{style:{margin:"5rem"},children:[(0,p.jsxs)(x.Z,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:r("citytableno")}),(0,p.jsx)("th",{children:r("citytablecityname")}),(0,p.jsx)("th",{children:r("citytablecityline")}),(0,p.jsx)("th",{children:r("tableaction")})]})}),(0,p.jsx)("tbody",{children:k&&k.length>0?k.map((function(e,t){return S+=1,(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:S}),(0,p.jsx)("td",{children:e.cityname}),(0,p.jsxs)("td",{children:["Line",e.citylineno]}),(0,p.jsxs)("td",{children:[(0,p.jsx)(f.vpV,{className:"icons",onClick:function(){return a(e._id,e.cityname,e.citylineno)}}),(0,p.jsx)(y.yvY,{className:"icons",onClick:function(){return t=e._id,void u.Z.delete("".concat(d.v,"/delete/").concat(t)).then((function(e){n((function(e){return!e}))}));var t}})]})]})})):r("tabledata")})]}),(0,p.jsx)("nav",{children:(0,p.jsxs)(m.Z,{children:[(0,p.jsx)(m.Z.Prev,{children:(0,p.jsx)("a",{href:"#",className:"page-link",onClick:function(){v!==g&&Z(v-1)},children:r("pageprev")})}),C.map((function(e,t){return(0,p.jsx)(m.Z.Item,{children:(0,p.jsx)("a",{href:"#",className:"page-link",onClick:function(){Z(e)},children:e})})})),(0,p.jsx)(m.Z.Next,{children:(0,p.jsx)("a",{href:"#",className:"page-link",onClick:function(){v!==b&&(S=b,Z(v+1))},children:r("pagenext")})})]})})]})})},Z=n(5691);var b=function(){var e=(0,i.useState)(""),t=(0,c.Z)(e,2),n=t[0],h=t[1],x=(0,i.useState)(""),m=(0,c.Z)(x,2),f=m[0],y=m[1],b=(0,i.useState)([]),g=(0,c.Z)(b,2),k=g[0],N=g[1],C=(0,i.useState)([]),S=(0,c.Z)(C,2),U=S[0],w=S[1],G=(0,i.useState)(!1),_=(0,c.Z)(G,2),I=_[0],L=_[1],M=(0,i.useState)(null),q=(0,c.Z)(M,2),A=q[0],D=q[1],E=(0,i.useState)(!1),V=(0,c.Z)(E,2),$=V[0],z=V[1],F=(0,j.$G)(),O=F.t,P=(F.i18n,(0,i.useState)(!1)),T=(0,c.Z)(P,2),Y=T[0],B=T[1],H=(0,i.useState)(""),J=(0,c.Z)(H,2),K=J[0],Q=J[1];(0,i.useEffect)((function(){B(!0),u.Z.get("".concat(d.v,"/citycreate/get")).then((function(e){N(e.data),B(!1)})).catch((function(e){console.log("error=",e),Q("Unable to fetch cityname list"),B(!1)}))}),[I]),(0,i.useEffect)((function(){B(!0),u.Z.get("".concat(d.v,"/linemancreate/get/lines")).then((function(e){w(e.data),B(!1)})).catch((function(e){console.log("error=",e),Q("Unable to fetch lines list"),B(!1)}))}),[]);var R=function(){B(!0),u.Z.post("".concat(d.v,"/citycreate/save"),{cityname:n,citylineno:f}).then((function(e){B(!1),h(""),y(""),L((function(e){return!e}))})).catch((function(e){console.log("error=",e),Q("Unable to Add City to the list"),B(!1)})),alert("City Saved Successfully")},W=(0,p.jsx)("ul",{children:(0,p.jsx)(v,{citynames:k,setUpdateUI:L,updateMode:function(e,t,n){h(t),y(n),D(e)}})});return(0,p.jsxs)(a.Z,{children:[(0,p.jsx)("h2",{className:"text-center",children:O("cityheadername")}),(0,p.jsx)(l.Z,{className:"justify-content-md-center mt-5 ",children:(0,p.jsx)(r.Z,{xs:6,lg:6,className:"rounded bg-white",children:(0,p.jsxs)(s.Z,{validated:$,children:[(0,p.jsxs)(s.Z.Group,{className:"mb-3",name:"cityname",border:"primary",children:[(0,p.jsx)(s.Z.Label,{children:O("citynamelabel")}),(0,p.jsx)(s.Z.Control,{type:"text",placeholder:O("citynameplaceholder"),required:!0,value:n,onChange:function(e){return h(e.target.value)}})]}),(0,p.jsxs)(s.Z.Group,{className:"mb-3",name:"linenumber",border:"primary",children:[(0,p.jsx)(s.Z.Label,{children:O("citylinelabel")}),(0,p.jsxs)(s.Z.Select,{"aria-label":"Default select example",value:f,onChange:function(e){return y(e.target.value)},required:!0,children:[(0,p.jsx)("option",{value:"",children:O("citylineplaceholder")},f),U.map((function(e){return(0,p.jsx)("option",{value:e.lineno,selected:e.lineno,children:e.linename},e.lineno)}))]})]}),(0,p.jsxs)("div",{className:"col-md-12 text-center ",children:[(0,p.jsx)(o.Z,{variant:"primary",type:"button",className:"text-center",onClick:A?function(){B(!0),u.Z.put("".concat(d.v,"/citycreate/update/").concat(A),{cityname:n,citylineno:f}).then((function(e){B(!1),L((function(e){return!e})),h(""),y(""),D(null)})).catch((function(e){console.log("error=",e),Q("Unable to update city list"),B(!1)}))}:function(e){!1===e.currentTarget.checkValidity()&&e.preventDefault(),z(!0),""!==n&&""!==f&&R()},children:O("citysavebuttonlabel")})," ",(0,p.jsx)(o.Z,{variant:"primary",type:"button",className:"text-center",onClick:function(){h(""),y(""),D(null)},children:O("citynewbttonlabel")})]}),Y?(0,p.jsx)(Z.Z,{}):W,K&&(0,p.jsx)("div",{className:"error",children:K})]})})})]})}}}]);
//# sourceMappingURL=336.759b4604.chunk.js.map