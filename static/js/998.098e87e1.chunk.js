"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[998],{5998:function(e,r,n){n.r(r);var a=n(9439),l=n(2791),t=n(7022),u=n(9743),s=n(3855),c=n(2677),d=n(3360),i=n(1243),o=n(2073),m=n(6868),x=n(184),h=0;r.default=function(){function e(){var e=new Date(I),r=new Date(e.setDate(e.getDate()+7*(G-1)));return new Date(r).toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/").reverse().join("-")}var r=(0,l.useState)([]),n=(0,a.Z)(r,2),b=n[0],Z=n[1],j=(0,l.useState)([]),v=(0,a.Z)(j,2),p=v[0],f=v[1],N=(0,l.useState)(),g=(0,a.Z)(N,2),y=g[0],w=g[1],C=(0,l.useState)(25),L=(0,a.Z)(C,2),G=L[0],q=L[1],R=(0,l.useState)(""),k=(0,a.Z)(R,2),S=k[0],D=k[1],_=(0,l.useState)([]),z=(0,a.Z)(_,2),F=z[0],J=z[1],B=(0,l.useRef)(null),E=(0,l.useRef)(null),V=(0,l.useRef)(null),H=(0,l.useRef)(null),M=(0,l.useRef)(null),P=(0,l.useRef)(null),T=(0,l.useRef)(null),W=(0,l.useState)((0,m.zJ)()),A=(0,a.Z)(W,2),I=A[0],K=A[1],O=(0,l.useRef)(null),Q=(0,l.useRef)(null),U=(0,l.useRef)(null),X=(0,l.useRef)(null),Y=(0,l.useRef)(null),$=(0,l.useRef)(null),ee=(0,l.useRef)(null),re=(0,l.useRef)(null),ne=(0,l.useRef)(null),ae=(0,l.useRef)(null),le=(0,l.useRef)(null),te=(0,l.useRef)(null),ue=(0,l.useRef)(null),se=(0,l.useRef)(null),ce=(0,l.useState)(!1),de=(0,a.Z)(ce,2),ie=de[0],oe=de[1],me=(0,l.useState)(!1),xe=(0,a.Z)(me,2),he=xe[0],be=xe[1];(0,l.useEffect)((function(){i.Z.get("".concat(o.v,"/get/view")).then((function(e){Z(e.data)}))}),[]),(0,l.useEffect)((function(){i.Z.get("".concat(o.v,"/linemancreate/get")).then((function(e){f(e.data)}))}),[]),(0,l.useEffect)((function(){i.Z.get("".concat(o.v,"/loancreate/get/max")).then((function(e){var r=e.data;h=r.length>0?r[0].maxCode+1:1,ue.current.value=h}))}),[he]),(0,l.useEffect)((function(){i.Z.get("".concat(o.v,"/linemancreate/get/lines")).then((function(e){J(e.data)}))}),[]);var Ze=function(e){!1===e.currentTarget.checkValidity()&&e.stopPropagation(),oe(!0),""!==$.current.value&&""!==ee.current.value&&""!==re.current.value&&ae.current.value,""!==ne.current.value&&""!==ne.current.value&""!==G&&""!==S&&0!==S&&je()},je=function(){i.Z.post("".concat(o.v,"/loancreate/save"),{loanno:h,customer_id:$.current.value,lineman_id:ee.current.value,weekno:re.current.value,bookno:ae.current.value,lineno:ne.current.value,document:le.current.value,cheque:te.current.value,weekcount:G,startdate:new Date(I),givendate:new Date(P.current.value),duedate:new Date(T.current.value),finisheddate:new Date(O.current.value),givenamount:Number(S),documentamount:Number(B.current.value),interestamount:Number(E.current.value),totalamount:Number(V.current.value),dueamount:Number(H.current.value),paidamount:Number(M.current.value)}).then((function(e){ve()})),alert("\u0bb5\u0bc6\u0bb1\u0bcd\u0bb1\u0bbf\u0b95\u0bb0\u0bae\u0bbe\u0b95 \u0b9a\u0bc7\u0bae\u0bbf\u0b95\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0b9f\u0bcd\u0b9f\u0ba4\u0bc1")};function ve(){$.current.value="",ee.current.value="",w(""),Q.current.value="",U.current.value="",X.current.value="",Y.current.value="",ne.current.value="",re.current.value="",ae.current.value="",le.current.value="",te.current.value="",K((0,m.zJ)()),P.current.value=(0,m.zJ)(),D(""),B.current.value="",E.current.value="",V.current.value="",H.current.value="",M.current.value="",se.current.value="",be((function(e){return!e}))}return(0,x.jsx)(t.Z,{className:"rounded bg-white mt-5",children:(0,x.jsx)(u.Z,{className:"justify-content-md-center mt-5 ",children:(0,x.jsxs)(s.Z,{noValidate:!0,validated:ie,onSubmit:Ze,children:[(0,x.jsxs)(u.Z,{children:[(0,x.jsx)(c.Z,{xs:12,md:4,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0b9a\u0bc0\u0b9f\u0bcd\u0b9f\u0bc1 \u0b8e\u0ba3\u0bcd"})," ",(0,x.jsx)(s.Z.Control,{ref:ue,type:"number",required:!0})]})}),(0,x.jsx)(c.Z,{xs:12,md:2,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0baa\u0bb4\u0bc8\u0baf \u0b8e\u0ba3\u0bcd"}),(0,x.jsx)(s.Z.Control,{ref:se,type:"number",placeholder:"\u0baa\u0bb4\u0bc8\u0baf \u0b8e\u0ba3\u0bcd",onBlur:function(){i.Z.get("".concat(o.v,"/loancreate/get/oldLoanRef"),{params:{loanno:Number(se.current.value)}}).then((function(e){var r=e.data;$.current.value=r[0].customer_id,ee.current.value=r[0].lineman_id,w(r[0].mobileno),Q.current.value=r[0].fathername,U.current.value=r[0].cityname,X.current.value=r[0].address,Y.current.value=r[0].work,ne.current.value=r[0].lineno,re.current.value=r[0].weekno,ae.current.value=r[0].bookno,le.current.value=r[0].document,te.current.value=r[0].cheque,D(r[0].givenamount),B.current.value=r[0].documentamount,E.current.value=r[0].interestamount,V.current.value=r[0].totalamount,H.current.value=r[0].dueamount,M.current.value=r[0].paidamount}))}})]})}),(0,x.jsx)(c.Z,{xs:12,md:3,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"customername",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0baa\u0bc6\u0baf\u0bb0\u0bcd"}),(0,x.jsxs)(s.Z.Select,{"aria-label":"Default select example",ref:$,onChange:function(e){return function(e){var r=b.filter((function(r){return r._id===e.target.value}));0==$.current.value?(w(""),Q.current.value="",U.current.value="",X.current.value="",Y.current.value="",ne.current.value=0):(w(r[0].mobileno),Q.current.value=r[0].fathername,U.current.value=r[0].cityname,X.current.value=r[0].address,Y.current.value=r[0].work,ne.current.value=r[0].lineno)}(e)},required:!0,children:[(0,x.jsx)("option",{value:"",children:"\u0baa\u0bc6\u0baf\u0bb0\u0bc8 \u0ba4\u0bc7\u0bb0\u0bcd\u0ba8\u0bcd\u0ba4\u0bc6\u0b9f\u0bc1\u0b95\u0bcd\u0b95\u0bb5\u0bc1\u0bae\u0bcd"}),b.map((function(e,r){return(0,x.jsx)("option",{value:e._id,children:e.customer})}))]})]})}),(0,x.jsx)(c.Z,{xs:12,md:3,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"linemanname",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0b95\u0bca\u0b9f\u0bc1\u0baa\u0bcd\u0baa\u0bb5\u0bb0\u0bcd"}),(0,x.jsxs)(s.Z.Select,{"aria-label":"Default select example",ref:ee,required:!0,children:[(0,x.jsx)("option",{value:"",children:"\u0b95\u0bca\u0b9f\u0bc1\u0baa\u0bcd\u0baa\u0bb5\u0bb0\u0bcd"}),p.map((function(e){return(0,x.jsx)("option",{value:e._id,children:e.linemanname})}))]})]})})]}),(0,x.jsxs)(u.Z,{children:[(0,x.jsx)(c.Z,{xs:12,md:4,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"mobilenumber",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0baa\u0bcb\u0ba9\u0bcd"})," ",(0,x.jsx)(s.Z.Control,{type:"number",disabled:!0,value:y,onChange:function(e){return w(e.target.value)}})]})}),(0,x.jsx)(c.Z,{xs:12,md:4,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"fathername",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0ba4\u0b95\u0baa\u0bcd\u0baa\u0ba9\u0bbe\u0bb0\u0bcd"}),(0,x.jsx)(s.Z.Control,{ref:Q,type:"text",disabled:!0})]})}),(0,x.jsx)(c.Z,{xs:12,md:4,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"cityname",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0b8a\u0bb0\u0bcd"})," ",(0,x.jsx)(s.Z.Control,{ref:U,type:"text",required:!0,disabled:!0})]})})]}),(0,x.jsxs)(u.Z,{children:[(0,x.jsx)(c.Z,{xs:12,md:4,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"address1",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0bae\u0bc1\u0b95\u0bb5\u0bb0\u0bbf "}),(0,x.jsx)(s.Z.Control,{ref:X,type:"text",required:!0,disabled:!0})]})}),(0,x.jsx)(c.Z,{xs:12,md:4,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"work",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0ba4\u0bca\u0bb4\u0bbf\u0bb2\u0bcd"}),(0,x.jsx)(s.Z.Control,{ref:Y,type:"text",required:!0,disabled:!0})]})}),(0,x.jsx)(c.Z,{xs:12,md:4,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"lineno",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0bb2\u0bc8\u0ba9\u0bcd"}),(0,x.jsxs)(s.Z.Select,{"aria-label":"Default select example",ref:ne,required:!0,children:[(0,x.jsx)("option",{value:"",children:"\u0bb2\u0bc8\u0ba9\u0bc8 \u0ba4\u0bc7\u0bb0\u0bcd\u0ba8\u0bcd\u0ba4\u0bc6\u0b9f\u0bc1\u0b95\u0bcd\u0b95\u0bb5\u0bc1\u0bae\u0bcd"}),F.map((function(e){return(0,x.jsx)("option",{value:e.lineno,children:e.linename})}))]})]})})]}),(0,x.jsxs)(u.Z,{children:[(0,x.jsx)(c.Z,{xs:12,md:3,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"weekno",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0bb5\u0bbe\u0bb0 \u0b8e\u0ba3\u0bcd"}),(0,x.jsx)(s.Z.Control,{type:"number",placeholder:"\u0bb5\u0bbe\u0bb0 \u0b8e\u0ba3\u0bcd \u0b87\u0b9f\u0bb5\u0bc1\u0bae\u0bcd",required:!0,ref:re})]})}),(0,x.jsx)(c.Z,{xs:12,md:3,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"bookno",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0baa\u0bc1\u0b95\u0bcd \u0b8e\u0ba3\u0bcd"}),(0,x.jsx)(s.Z.Control,{type:"number",placeholder:"\u0baa\u0bc1\u0b95\u0bcd \u0b8e\u0ba3\u0bcd \u0b87\u0b9f\u0bb5\u0bc1\u0bae\u0bcd",required:!0,ref:ae})]})}),(0,x.jsx)(c.Z,{xs:12,md:2,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"doument",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0b9f\u0bbe\u0b95\u0bc1\u0bae\u0bc6\u0ba3\u0bcd\u0b9f\u0bcd"}),(0,x.jsx)(s.Z.Control,{type:"text",placeholder:"\u0b9f\u0bbe\u0b95\u0bc1\u0bae\u0bc6\u0ba3\u0bcd\u0b9f\u0bcd",ref:le})]})}),(0,x.jsx)(c.Z,{xs:12,md:2,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"cheque",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0b9a\u0bc6\u0b95\u0bcd"}),(0,x.jsx)(s.Z.Control,{type:"number",placeholder:"\u0b9a\u0bc6\u0b95\u0bcd",ref:te})]})}),(0,x.jsx)(c.Z,{xs:12,md:2,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"bookno",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0bb5\u0bbe\u0bb0\u0bae\u0bcd"}),(0,x.jsx)(s.Z.Control,{className:"bg-info text-center",size:"lg",type:"number",placeholder:"How Many Weeks",required:!0,value:G,onChange:function(e){return q(e.target.value)}})]})})]}),(0,x.jsxs)(u.Z,{children:[(0,x.jsx)(c.Z,{xs:12,md:3,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"startdate",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0b86\u0bb0\u0bae\u0bcd\u0baa \u0ba4\u0bc7\u0ba4\u0bbf"}),(0,x.jsx)(s.Z.Control,{type:"date",placeholder:"loan start date",required:!0,value:I,onChange:function(e){return K(e.target.value)},onBlur:e})]})}),(0,x.jsx)(c.Z,{xs:12,md:3,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"givendate",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0b95\u0bca\u0b9f\u0bc1\u0ba4\u0bcd\u0ba4 \u0ba4\u0bc7\u0ba4\u0bbf"}),(0,x.jsx)(s.Z.Control,{type:"date",ref:P,placeholder:"loan given date",required:!0,defaultValue:(0,m.zJ)()})]})}),(0,x.jsx)(c.Z,{xs:12,md:3,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"givendate",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0b9a\u0bc6\u0bb2\u0bc1\u0ba4\u0bcd\u0ba4\u0bc1\u0bae\u0bcd \u0ba4\u0bc7\u0ba4\u0bbf"}),(0,x.jsx)(s.Z.Control,{type:"date",ref:T,placeholder:"loan paid date",required:!0,defaultValue:(0,m.zJ)()})]})}),(0,x.jsx)(c.Z,{xs:12,md:3,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0bae\u0bc1\u0b9f\u0bbf\u0bb5\u0bc1 \u0ba4\u0bc7\u0ba4\u0bbf"}),(0,x.jsx)(s.Z.Control,{type:"date",ref:O,placeholder:"loan finished",required:!0,value:e()})]})})]}),(0,x.jsxs)(u.Z,{children:[(0,x.jsx)(c.Z,{xs:12,md:2,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"givenmoney",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0b95\u0bca\u0b9f\u0bc1\u0ba4\u0bcd\u0ba4 \u0baa\u0ba3\u0bae\u0bcd"}),(0,x.jsx)(s.Z.Control,{className:"text-end",type:"number",value:S,required:!0,onChange:function(e){return D(Number(e.target.value))},onBlur:function(){var e=Number(S),r=50*e/1e3;B.current.value=r.toFixed(2);var n=20*e/100;E.current.value=n.toFixed(2);var a=e+r+n;V.current.value=a.toFixed(2);var l=a/25;H.current.value=l.toFixed(2),D(e.toFixed(2))}})]})}),(0,x.jsx)(c.Z,{xs:12,md:2,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"documentcharge",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0b9f\u0bbe\u0b95\u0bc1\u0bae\u0bc6\u0ba3\u0bcd\u0b9f\u0bcd \u0b9a\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd"}),(0,x.jsx)(s.Z.Control,{ref:B,className:"text-end",type:"text",required:!0})]})}),(0,x.jsx)(c.Z,{xs:12,md:2,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"interest",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0bb5\u0b9f\u0bcd\u0b9f\u0bbf"}),(0,x.jsx)(s.Z.Control,{className:"text-end",type:"text",required:!0,ref:E})]})}),(0,x.jsx)(c.Z,{xs:12,md:2,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"totalamount",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0bae\u0bca\u0ba4\u0bcd\u0ba4\u0bae\u0bcd"}),(0,x.jsx)(s.Z.Control,{className:"text-end",type:"text",required:!0,ref:V})]})}),(0,x.jsx)(c.Z,{xs:12,md:2,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"dueamount",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0ba4\u0bb5\u0ba3\u0bc8"}),(0,x.jsx)(s.Z.Control,{className:"text-end",type:"text",required:!0,ref:H})]})}),(0,x.jsx)(c.Z,{xs:12,md:2,className:"rounded bg-white",children:(0,x.jsxs)(s.Z.Group,{className:"mb-3",name:"paidamount",border:"primary",children:[(0,x.jsx)(s.Z.Label,{children:"\u0b95\u0b9f\u0bcd\u0b9f\u0bbf\u0baf \u0baa\u0ba3\u0bae\u0bcd"}),(0,x.jsx)(s.Z.Control,{className:"text-end",type:"text",required:!0,ref:M})]})})]}),(0,x.jsx)(u.Z,{children:(0,x.jsxs)("div",{className:"col-md-12 text-center mb-2 ",children:[(0,x.jsx)(d.Z,{variant:"primary",size:"lg",type:"button",className:"text-center",onClick:Ze,children:"\u0b9a\u0bc7\u0bae\u0bbf"})," ",(0,x.jsx)(d.Z,{variant:"primary",size:"lg",type:"button",className:"text-center",onClick:ve,children:"\u0baa\u0bc1\u0ba4\u0bbf\u0baf"})]})})]})})})}}}]);
//# sourceMappingURL=998.098e87e1.chunk.js.map