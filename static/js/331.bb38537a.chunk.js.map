{"version":3,"file":"static/js/331.bb38537a.chunk.js","mappings":"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","sources":["components/ListLineMan.js","AddLineMan.js"],"sourcesContent":["import React,{Fragment,useState} from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport {Table,Pagination } from \"react-bootstrap\";\r\nimport {BiEditAlt} from \"react-icons/bi\"\r\nimport {BsTrash} from \"react-icons/bs\"\r\nimport axios from 'axios'\r\nimport {baseURL} from \"../utils/constant\";\r\n\r\nconst ListLineMan=({linemannames,setUpdateUI})=>{\r\nconst[currentPage,setCurrentPage]=useState(1);\r\nconst recordsPerPage=5;\r\nconst lastIndex=currentPage*recordsPerPage;\r\nconst firstIndex=lastIndex-recordsPerPage;\r\nconst records=linemannames.slice(firstIndex,lastIndex);\r\nconst nPage=Math.ceil(Object.keys(linemannames).length/recordsPerPage);\r\nconst numbers=[...Array(nPage+1).keys()].slice(1);\r\nvar serialno=0;\r\n\r\nserialno=(currentPage-1) * recordsPerPage;\r\nconst removeLineMan=(id)=>{\r\n    axios.delete(`${baseURL}/linemancreate/delete/${id}`).then((res)=>{\r\n        setUpdateUI((preveState)=>!preveState)\r\n      })\r\n}\r\nfunction prevPage(){\r\n    if(currentPage!==firstIndex)\r\n    {\r\n      setCurrentPage(currentPage-1)\r\n    }\r\n    \r\n  }\r\n  function nextPage(){\r\n    if(currentPage!==lastIndex){\r\n        serialno=lastIndex;\r\n      setCurrentPage(currentPage+1);\r\n    }\r\n\r\n  }\r\n  function changeCPage(id){\r\n    setCurrentPage(id)\r\n  }\r\n  return(\r\n    <Fragment>\r\n      <div style={{margin:\"5rem\"}}>\r\n        <Table striped bordered hover size=\"sm\"  >\r\n          <thead>\r\n            <tr>\r\n              <th>\r\n                No\r\n              </th>\r\n              <th>\r\n                Name\r\n              </th>\r\n              <th>\r\n                Mobile No\r\n              </th>\r\n              <th>\r\n                Action\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {\r\n              records && records.length>0\r\n              ?\r\n              (records.map((linemanname)=>{\r\n                serialno=serialno+1;\r\n                return(\r\n                  <tr>\r\n                    <td>{serialno}</td>\r\n                    <td>{linemanname.linemanname}</td>\r\n                    <td>{linemanname.mobileno}</td>\r\n                    <td>\r\n                    {/*<BiEditAlt  className='icons' onClick={()=>updateMode(cityname._id,cityname.cityname,cityname.citylineno)} />*/}\r\n                    <BsTrash className='icons' onClick={()=>removeLineMan(linemanname._id)} />\r\n                    </td>\r\n                  </tr>\r\n                  \r\n                )\r\n              })\r\n              )\r\n              :\r\n              \"No Data Available\"\r\n            }\r\n          </tbody>\r\n        </Table>\r\n        <nav>\r\n        \r\n          <Pagination>\r\n            <Pagination.Prev >\r\n            <a href=\"#\" className='page-link' onClick={prevPage}>Prev</a>\r\n            </Pagination.Prev>\r\n            {\r\n            numbers.map((n,i)=>(\r\n              <Pagination.Item>\r\n                <a href=\"#\" className='page-link'\r\n            onClick={()=>changeCPage(n)}>{n}</a>\r\n              </Pagination.Item>\r\n            ))\r\n          }\r\n            <Pagination.Next>\r\n            <a href=\"#\" className='page-link' onClick={nextPage}>Next</a>\r\n            </Pagination.Next>\r\n          </Pagination>\r\n        </nav>\r\n\r\n      </div>\r\n    </Fragment>\r\n  )\r\n\r\n}\r\nexport default ListLineMan;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Button, Container, Form, Row, Col } from 'react-bootstrap';\r\nimport ListLineMan from \"./components/ListLineMan\"\r\nimport axios from \"axios\"\r\nimport { baseURL } from \"./utils/constant\";\r\nimport PlaceHolder from \"./components/spinner/placeholder\";\r\nimport { useTranslation } from \"react-i18next\";\r\nvar maxCitycode = 0;\r\nfunction AddLineMan() {\r\n  const [input, setInput] = useState(\"\");\r\n  const [inputmobileno, setInputMobileno] = useState(\"\")\r\n  const [lineMans, setLineMans] = useState([]);\r\n  const [updateUI, setUpdateUI] = useState(false);\r\n  const [updateId, setUpdateId] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const { t, i18n } = useTranslation();\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    axios.get(`${baseURL}/linemancreate/get`).then((res) => {\r\n      setLineMans(res.data)\r\n      setIsLoading(false)\r\n    })\r\n      .catch(error => {\r\n        console.log(\"error=\", error);\r\n        setErrorMessage(\"Unable to fetch linenam list\");\r\n        setIsLoading(false);\r\n      })\r\n  }, [updateUI]);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    axios.get(`${baseURL}/linemancreate/get/max`).then((res) => {\r\n      const checkstring = (res.data);\r\n      setIsLoading(false)\r\n      if (((res.data).length) > 0) {\r\n        maxCitycode = checkstring[0].maxCode + 1;\r\n      }\r\n      else {\r\n        maxCitycode = 1;\r\n      }\r\n    })\r\n      .catch(error => {\r\n        setErrorMessage(\"Unable to fetch lineman list\");\r\n        setIsLoading(false);\r\n        console.log(\"error=\", error);\r\n      })\r\n  }, []);\r\n\r\n  const addLineMan = () => {\r\n    setIsLoading(true);\r\n    axios.post(`${baseURL}/linemancreate/save`, { linemancode: maxCitycode, linemanname: input, mobileno: inputmobileno }).then((res) => {\r\n      //console.log(res.data)\r\n      setIsLoading(false)\r\n      setInput(\"\")\r\n      setInputMobileno(\"\");\r\n      setUpdateUI((prevState) => !prevState)\r\n    })\r\n      .catch(error => {\r\n        setErrorMessage(\"Unable to ADD lineman to the list\");\r\n        setIsLoading(false);\r\n        console.log(\"error=\", error);\r\n      })\r\n  }\r\n\r\n  const updateMode = (id, text, mobilenum) => {\r\n    setInput(text);\r\n    setInputMobileno(mobilenum);\r\n    setUpdateId(id);\r\n  }\r\n\r\n  const updateLineMan = () => {\r\n    setIsLoading(true);\r\n    axios.put(`${baseURL}/linemancreate/update/${updateId}`, { linemanname: input, mobileno: inputmobileno }).then((res) => {\r\n      setIsLoading(false)\r\n      setUpdateUI((prevState) => !prevState)\r\n      setInput(\"\");\r\n      setInputMobileno(\"\");\r\n      setUpdateId(null);\r\n\r\n    })\r\n      .catch(error => {\r\n        setErrorMessage(\"Unable to update LineMan to the list\");\r\n        setIsLoading(false);\r\n        console.log(\"error=\", error);\r\n      })\r\n  }\r\n\r\n  const renderLineManList = (\r\n    <div className=\"text-center\">\r\n      <ListLineMan linemannames={lineMans} setUpdateUI={setUpdateUI} />\r\n    </div>);\r\n\r\n  return (\r\n\r\n    <Container style={{ display: 'flex' }}>\r\n      <h2 className=\"text-center\">LINEMAN MASTER</h2>\r\n      <Row className=\"justify-content-md-center mt-5 \">\r\n        <Form >\r\n          <Row className=\"rounded bg-white\">\r\n            <Col xs={12} md={12} >\r\n              <Form.Group className=\"mb-3\" name=\"linemanname\" border=\"primary\" >\r\n                <Form.Label>LineMan Name</Form.Label>\r\n                <Form.Control type=\"text\" placeholder={t('placeholder')} required value={input} onChange={(e) => setInput(e.target.value)} />\r\n              </Form.Group>\r\n            </Col>\r\n\r\n          </Row>\r\n          <Row className=\"rounded bg-white\">\r\n            <Col xs={12} md={12} >\r\n              <Form.Group className=\"mb-3\" name=\"mobilenumber\" border=\"primary\" >\r\n                <Form.Label>Mobile No</Form.Label>\r\n                <Form.Control type=\"number\" placeholder=\"Enter Mobile No\" required value={inputmobileno} onChange={(e) => setInputMobileno(e.target.value)} />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"rounded bg-white\">\r\n            <div className=\"text-center mb-2 \" >\r\n              <Button variant=\"primary\" size=\"lg\" type=\"submit\" className=\"text-center\" onClick={updateId ? updateLineMan : addLineMan}>\r\n                Submit\r\n              </Button>\r\n            </div>\r\n            {isLoading ? <PlaceHolder /> : renderLineManList}\r\n            {errorMessage && <div className=\"error\">{errorMessage}</div>}\r\n\r\n          </Row>\r\n        </Form>\r\n      </Row>\r\n    </Container>\r\n\r\n  )\r\n}\r\nexport default AddLineMan;"],"names":["_ref","linemannames","setUpdateUI","_useState","useState","_useState2","_slicedToArray","currentPage","setCurrentPage","lastIndex","firstIndex","records","slice","nPage","Math","ceil","Object","keys","length","numbers","_toConsumableArray","Array","serialno","_jsx","Fragment","children","_jsxs","style","margin","Table","striped","bordered","hover","size","map","linemanname","mobileno","BsTrash","className","onClick","id","_id","axios","delete","concat","baseURL","then","res","preveState","Pagination","Prev","href","n","i","Item","Next","maxCitycode","input","setInput","_useState3","_useState4","inputmobileno","setInputMobileno","_useState5","_useState6","lineMans","setLineMans","_useState7","_useState8","updateUI","_useState9","_useState10","updateId","setUpdateId","_useState11","_useState12","isLoading","setIsLoading","_useState13","_useState14","errorMessage","setErrorMessage","_useTranslation","useTranslation","t","i18n","useEffect","get","data","catch","error","console","log","checkstring","maxCode","renderLineManList","ListLineMan","Container","display","Row","Form","Col","xs","md","Group","name","border","Label","Control","type","placeholder","required","value","onChange","e","target","Button","variant","put","prevState","post","linemancode","PlaceHolder"],"sourceRoot":""}