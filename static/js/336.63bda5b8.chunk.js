"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[336],{2336:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(9439),c=t(2791),a=t(7022),i=t(9743),s=t(2677),l=t(3855),o=t(3360),u=t(1243),d=t(2073),h=t(3433),m=(t(7632),t(2591)),x=t(8116),f=t(719),j=t(9230),p=t(184),y=function(e){var n=e.citynames,t=e.updateMode,a=(0,j.$G)(),i=a.t,s=(a.i18n,(0,c.useState)(1)),l=(0,r.Z)(s,2),o=l[0],u=l[1],d=5*o,y=d-5,v=n.slice(y,d),g=Math.ceil(Object.keys(n).length/5),Z=(0,h.Z)(Array(g+1).keys()).slice(1),b=0;return b=5*(o-1),(0,p.jsx)(c.Fragment,{children:(0,p.jsxs)("div",{style:{margin:"5rem"},children:[(0,p.jsxs)(m.Z,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:i("no")}),(0,p.jsx)("th",{children:i("city")}),(0,p.jsx)("th",{children:i("line")}),(0,p.jsx)("th",{children:i("tableaction")})]})}),(0,p.jsx)("tbody",{children:v&&v.length>0?v.map((function(e,n){return b+=1,(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:b}),(0,p.jsx)("td",{children:e.cityname}),(0,p.jsx)("td",{children:e.linename}),(0,p.jsx)("td",{children:(0,p.jsx)(f.vpV,{className:"icons",onClick:function(){return t(e._id,e.cityname,e.citylineno)}})})]})})):i("tabledata")})]}),(0,p.jsx)("nav",{children:(0,p.jsxs)(x.Z,{children:[(0,p.jsx)(x.Z.Prev,{children:(0,p.jsx)("a",{href:"#",className:"page-link",onClick:function(){o!==y&&u(o-1)},children:i("pageprev")})}),Z.map((function(e,n){return(0,p.jsx)(x.Z.Item,{children:(0,p.jsx)("a",{href:"#",className:"page-link",onClick:function(){u(e)},children:e})})})),(0,p.jsx)(x.Z.Next,{children:(0,p.jsx)("a",{href:"#",className:"page-link",onClick:function(){o!==d&&(b=d,u(o+1))},children:i("pagenext")})})]})})]})})},v=t(5691);var g=function(){var e=(0,c.useState)(""),n=(0,r.Z)(e,2),t=n[0],h=n[1],m=(0,c.useState)(""),x=(0,r.Z)(m,2),f=x[0],g=x[1],Z=(0,c.useState)([]),b=(0,r.Z)(Z,2),k=b[0],N=b[1],C=(0,c.useState)([]),S=(0,r.Z)(C,2),w=S[0],E=S[1],G=(0,c.useState)(!1),D=(0,r.Z)(G,2),L=D[0],M=D[1],_=(0,c.useState)(null),q=(0,r.Z)(_,2),A=q[0],F=q[1],I=(0,c.useState)(!1),O=(0,r.Z)(I,2),P=O[0],T=O[1],V=(0,j.$G)(),$=V.t,z=(V.i18n,(0,c.useState)(!1)),U=(0,r.Z)(z,2),B=U[0],H=U[1],J=(0,c.useState)(""),K=(0,r.Z)(J,2),Q=K[0],R=K[1];(0,c.useEffect)((function(){H(!0),u.Z.get("".concat(d.v,"/citycreate/get")).then((function(e){N(e.data),H(!1)})).catch((function(e){console.log("error=",e),R($("errormessagecity")),H(!1)}))}),[L]),(0,c.useEffect)((function(){H(!0),u.Z.get("".concat(d.v,"/linemancreate/get/lines")).then((function(e){E(e.data),H(!1)})).catch((function(e){console.log("error=",e),R($("errormessageline")),H(!1)}))}),[]),(0,c.useEffect)((function(){document.addEventListener("keydown",(function(e){if("Enter"===e.key&&"INPUT"===e.target.nodeName){var n=e.target.form,t=Array.prototype.indexOf.call(n,e.target);n.elements[t+1].focus(),e.preventDefault()}}))}),[]);var W=function(){H(!0),u.Z.post("".concat(d.v,"/citycreate/save"),{cityname:t,citylineno:f}).then((function(e){H(!1),h(""),g(""),M((function(e){return!e}))})).catch((function(e){console.log("error=",e),R($("errormessagesavecity")),H(!1)})),alert($("savealertmessage"))},X=(0,p.jsx)("ul",{children:(0,p.jsx)(y,{citynames:k,updateMode:function(e,n,t){h(n),g(t),F(e)}})});return(0,p.jsxs)(a.Z,{children:[(0,p.jsx)("h2",{className:"text-center",children:$("cityheadername")}),(0,p.jsx)(i.Z,{className:"justify-content-md-center mt-5 ",children:(0,p.jsx)(s.Z,{xs:6,lg:6,className:"rounded bg-white",children:(0,p.jsxs)(l.Z,{validated:P,children:[(0,p.jsxs)(l.Z.Group,{className:"mb-3",name:"cityname",border:"primary",children:[(0,p.jsx)(l.Z.Label,{children:$("city")}),(0,p.jsx)(l.Z.Control,{type:"text",placeholder:$("cityplaceholderlabel"),required:!0,value:t,onChange:function(e){return h(e.target.value)},autoFocus:!0})]}),(0,p.jsxs)(l.Z.Group,{className:"mb-3",name:"linenumber",border:"primary",children:[(0,p.jsx)(l.Z.Label,{children:$("line")}),(0,p.jsxs)(l.Z.Select,{"aria-label":"Default select example",value:f,onChange:function(e){return g(e.target.value)},required:!0,children:[(0,p.jsx)("option",{value:"",children:$("lineplaceholder")},f),w.map((function(e){return(0,p.jsx)("option",{value:e.lineno,selected:e.lineno,children:e.linename},e.lineno)}))]})]}),(0,p.jsxs)("div",{className:"col-md-12 text-center ",children:[(0,p.jsx)(o.Z,{variant:"primary",type:"button",className:"text-center",onClick:A?function(){H(!0),u.Z.put("".concat(d.v,"/citycreate/update/").concat(A),{cityname:t,citylineno:f}).then((function(e){H(!1),M((function(e){return!e})),h(""),g(""),F(null)})).catch((function(e){console.log("error=",e),R($("errormessagesavecity")),H(!1)})),alert($("savealertmessage"))}:function(e){!1===e.currentTarget.checkValidity()&&e.preventDefault(),T(!0),""!==t&&""!==f&&W()},children:$("savebutton")})," ",(0,p.jsx)(o.Z,{variant:"primary",type:"button",className:"text-center",onClick:function(){h(""),g(""),F(null)},children:$("newbutton")})]}),B?(0,p.jsx)(v.Z,{}):X,Q&&(0,p.jsx)("div",{className:"error",children:Q})]})})})]})}}}]);
//# sourceMappingURL=336.63bda5b8.chunk.js.map