"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[175],{7175:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var a=t(9439),c=t(2791),r=t(7022),s=t(9743),l=t(3855),i=t(2677),u=t(3360),o=t(1243),d=t(2073),m=t(3433),h=t(4942),x=t(1413),f=(t(7632),t(2591)),j=t(8116),p=t(184),Z=function(e){var n=e.pending,t=e.setpendingLoanFun,r=(0,c.useState)(1),s=(0,a.Z)(r,2),l=s[0],i=s[1],u=(0,c.useState)(!1),o=(0,a.Z)(u,2),d=(o[0],o[1],(0,c.useState)([])),Z=(0,a.Z)(d,2),b=Z[0],v=Z[1];(0,c.useEffect)((function(){v(n)}),[n]);var g=10*l,k=g-10,N=n.slice(k,g),y=Math.ceil(Object.keys(n).length/10),S=(0,m.Z)(Array(y+1).keys()).slice(1);var C=(0,c.useState)([]),w=(0,a.Z)(C,2),L=w[0],D=w[1],_=(0,c.useState)({weak:"",amount:0}),A=(0,a.Z)(_,2),z=A[0],E=A[1],F=function(e,a){var c=e.target,r=c.name,s=c.value,l=n.map((function(e){return e.loannumber===a&&r?(0,x.Z)((0,x.Z)({},e),{},(0,h.Z)({},r,s)):e}));E(l);var i=b.map((function(e){return e.loannumber==a?(0,x.Z)((0,x.Z)({},e),{},(0,h.Z)({},r,s)):e}));v(i),t(i)};return console.log(b),(0,p.jsx)(c.Fragment,{children:(0,p.jsxs)("div",{className:"container-fluid ",children:[(0,p.jsxs)(f.Z,{className:"table table-striped table-primary table-hover text-center fs-6 table-bordered border-dark  ",size:"sm",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{scope:"col",lg:1,className:"col-sm-12 col-md-1",children:(0,p.jsx)("input",{type:"checkbox",onClick:function(e){if(e.target.checked){var a=n.map((function(e){return e.loannumber}));D(a)}else D([]);var c=b.map((function(n){return(0,x.Z)((0,x.Z)({},n),{},(0,h.Z)({},"check",e.target.checked))}));v(c),t(b)}})}),(0,p.jsx)("th",{className:"col-sm-12 col-md-1",children:"Loan"}),(0,p.jsx)("th",{className:"col-sm-12 col-md-2",children:"Week No"}),(0,p.jsx)("th",{className:"col-sm-12 col-md-4",children:"Customer"}),(0,p.jsx)("th",{className:"col-sm-12 col-md-2 text-end",children:"Due"}),(0,p.jsx)("th",{className:"col-sm-12 col-md-2 text-end",children:"Amount"})]})}),(0,p.jsx)("tbody",{children:N&&N.length>0?N.map((function(e,n){return 1,(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{className:"checkbox",children:(0,p.jsx)("input",{name:"check",type:"checkbox",checked:L.includes(e.loannumber),value:e.loannumber,onChange:function(n){return function(e,n){var a=e.target.checked,c=parseInt(e.target.value);a?D([].concat((0,m.Z)(L),[c])):(v((0,x.Z)((0,x.Z)({},b),{},(0,h.Z)({},e.target.name,!1))),D((function(e){return e.filter((function(e){return e!==c}))})));var r=b.map((function(t){return t.loannumber==n?(0,x.Z)((0,x.Z)({},t),{},(0,h.Z)({},e.target.name,e.target.checked)):t}));v(r),t(b)}(n,e.loannumber)}})},L.includes(e.loannumber)),(0,p.jsx)("td",{children:e.loannumber}),(0,p.jsx)("td",{children:(0,p.jsx)("input",{className:"form-control",name:"weak",value:z.weak,type:"number",onChange:function(n){return F(n,e.loannumber)},disabled:!L.includes(e.loannumber)})}),(0,p.jsx)("td",{children:e._id.customer}),(0,p.jsx)("td",{className:"text-end",children:e._id.dueamount}),(0,p.jsx)("td",{children:(0,p.jsx)("input",{className:"form-control text-end",name:"amount",value:z.amount,type:"number",onChange:function(n){return F(n,e.loannumber)},disabled:!L.includes(e.loannumber)})})]},e.loannumber)})):"No Data Available"})]}),(0,p.jsx)("nav",{children:(0,p.jsxs)(j.Z,{children:[(0,p.jsx)(j.Z.Prev,{children:(0,p.jsx)("a",{href:"#",className:"page-link",onClick:function(){l!==k&&i(l-1)},children:"Prev"})}),S.map((function(e,n){return(0,p.jsx)(j.Z.Item,{children:(0,p.jsx)("a",{href:"#",className:"page-link",onClick:function(){i(e)},children:e})})})),(0,p.jsx)(j.Z.Next,{children:(0,p.jsx)("a",{href:"#",className:"page-link",onClick:function(){l!==g&&(g,i(l+1))},children:"Next"})})]})})]})})},b=t(6868);var v=function(){var e=(0,c.useState)([]),n=(0,a.Z)(e,2),t=n[0],m=n[1],h=(0,c.useState)([]),x=(0,a.Z)(h,2),f=x[0],j=x[1],v=(0,c.useState)([]),g=(0,a.Z)(v,2),k=g[0],N=g[1],y=(0,c.useState)((0,b.zJ)()),S=(0,a.Z)(y,2),C=S[0],w=S[1],L=(0,c.useState)(0),D=(0,a.Z)(L,2),_=D[0],A=D[1],z=(0,c.useState)(!1),E=(0,a.Z)(z,2),F=E[0],G=E[1];return(0,c.useRef)(null),(0,c.useEffect)((function(){o.Z.get("".concat(d.v,"/citycreate/get")).then((function(e){m(e.data)}))}),[F]),(0,c.useEffect)((function(){o.Z.get("".concat(d.v,"/receipt/get/loanpending"),{params:{cityid:_.toString(),receiptdate:(0,b.vc)(C).toString()}}).then((function(e){j(e.data)}))}),[_,F]),(0,p.jsx)(r.Z,{children:(0,p.jsx)(s.Z,{className:"justify-content-md-center mt-5 ",children:(0,p.jsxs)(l.Z,{children:[(0,p.jsxs)(s.Z,{children:[(0,p.jsx)(i.Z,{xs:6,md:4,className:"rounded bg-white",children:(0,p.jsxs)(l.Z.Group,{className:"mb-3",name:"lineno",border:"primary",children:[(0,p.jsx)(l.Z.Label,{children:"Line No"}),(0,p.jsxs)(l.Z.Select,{"aria-label":"Default select example",onChange:function(e){return A(e.target.value)},value:_,children:[(0,p.jsx)("option",{value:0,children:" select Line"}),t.map((function(e){return(0,p.jsx)("option",{value:e._id,children:e.cityname})}))]})]})}),(0,p.jsx)(i.Z,{xs:12,md:1}),(0,p.jsx)(i.Z,{xs:12,md:4,className:"rounded bg-white",children:(0,p.jsxs)(l.Z.Group,{className:"mb-3",name:"startdate",border:"primary",children:[(0,p.jsx)(l.Z.Label,{children:"Date"}),(0,p.jsx)(l.Z.Control,{type:"date",placeholder:"loan start date",value:C,onChange:function(e){return w(e.target.value)}})]})})]}),(0,p.jsxs)(s.Z,{children:[(0,p.jsx)("div",{className:"col-md-12 text-center ",children:(0,p.jsx)(u.Z,{variant:"primary",type:"button",className:"text-center",onClick:function(){o.Z.post("".concat(d.v,"/receipt/save/details"),{receiptdata:k,receiptdate:new Date(C)}).then((function(e){})).then((function(e){w(b.zJ),G((function(e){return!e}))})),alert("Collection Added Successfully")},children:"Save"})}),(0,p.jsx)("ul",{children:(0,p.jsx)(Z,{pending:f,setpendingLoanFun:N})})]})]})})})}}}]);
//# sourceMappingURL=175.cca05dae.chunk.js.map