"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[917],{9917:function(e,r,t){t.r(r),t.d(r,{default:function(){return S}});var a=t(1413),n=t(9439),l=t(2791),c=t(7022),u=t(9743),s=t(3855),o=t(2677),i=t(3360),d=(t(7632),t(9230)),m=t(184),h=t(1243),v=t(2073),f=t(5987),p=t(1694),x=t.n(p),b=t(162),Z=["bsPrefix","size","vertical","className","role","as"],y=l.forwardRef((function(e,r){var t=e.bsPrefix,n=e.size,l=e.vertical,c=void 0!==l&&l,u=e.className,s=e.role,o=void 0===s?"group":s,i=e.as,d=void 0===i?"div":i,h=(0,f.Z)(e,Z),v=(0,b.vE)(t,"btn-group"),p=v;return c&&(p="".concat(v,"-vertical")),(0,m.jsx)(d,(0,a.Z)((0,a.Z)({},h),{},{ref:r,role:o,className:x()(u,p,n&&"".concat(v,"-").concat(n))}))}));y.displayName="ButtonGroup";var j=y,g=["bsPrefix","name","className","checked","type","onChange","value","disabled","id","inputRef"],N=function(){},k=l.forwardRef((function(e,r){var t=e.bsPrefix,n=e.name,l=e.className,c=e.checked,u=e.type,s=e.onChange,o=e.value,d=e.disabled,h=e.id,v=e.inputRef,p=(0,f.Z)(e,g);return t=(0,b.vE)(t,"btn-check"),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("input",{className:t,name:n,type:u,value:o,ref:v,autoComplete:"off",checked:!!c,disabled:!!d,onChange:s||N,id:h}),(0,m.jsx)(i.Z,(0,a.Z)((0,a.Z)({},p),{},{ref:r,className:x()(l,d&&"disabled"),type:void 0,role:void 0,as:"label",htmlFor:h}))]})}));k.displayName="ToggleButton";var w=k,C=t(1427);t(5691);var S=function(){var e=(0,l.useState)(""),r=(0,n.Z)(e,2),t=r[0],f=r[1],p=(0,l.useState)(""),x=(0,n.Z)(p,2),b=x[0],Z=x[1],y=(0,l.useState)([]),g=(0,n.Z)(y,2),N=g[0],k=g[1],S=(0,l.useState)(!1),G=(0,n.Z)(S,2),L=G[0],_=G[1],q=(0,l.useState)(null),R=(0,n.Z)(q,2),E=R[0],P=R[1],z=(0,l.useState)("0"),D=(0,n.Z)(z,2),F=D[0],K=D[1],T=(0,l.useState)([]),O=(0,n.Z)(T,2),B=O[0],V=O[1],A=(0,l.useState)(!1),I=(0,n.Z)(A,2),U=I[0],$=I[1],H=(0,l.useState)(""),J=(0,n.Z)(H,2),M=J[0],Q=J[1],W=(0,l.useState)(!1),X=(0,n.Z)(W,2),Y=(X[0],X[1]),ee=(0,l.useState)(""),re=(0,n.Z)(ee,2),te=re[0],ae=re[1],ne=(0,d.$G)(),le=ne.t,ce=(ne.i18n,(0,l.useRef)(null)),ue=(0,l.useRef)(null),se=(0,l.useRef)(null),oe=(0,l.useRef)(null),ie={mySelectKey:null},de=(0,l.useState)(ie),me=(0,n.Z)(de,2),he=me[0],ve=me[1];(0,l.useEffect)((function(){Y(!0),h.Z.get("".concat(v.v,"/citycreate/get")).then((function(e){V(e.data),Y(!1)})).catch((function(e){console.log("error=",e),ae(le("errormessagecity")),Y(!1)}))}),[le]),(0,l.useEffect)((function(){Y(!0),h.Z.get("".concat(v.v,"/get/view")).then((function(e){k(e.data),console.log(e.data),Y(!1)})).catch((function(e){console.log("error=",e),ae(le("errormessagecustomer")),Y(!1)}))}),[L,le]),(0,l.useEffect)((function(){document.addEventListener("keydown",(function(e){if("Enter"===e.key&&"INPUT"===e.target.nodeName){var r=e.target.form,t=Array.prototype.indexOf.call(r,e.target);r.elements[t+1].focus(),e.preventDefault()}}))}),[]);var fe=function(){Y(!0),h.Z.post("".concat(v.v,"/save"),{customer:t,mobileno:b,cityid:M,fathername:ce.current.value,address:ue.current.value,work:se.current.value,relationtype:Number(F),referencecity:oe.current.value}).then((function(e){Y(!1),f(""),Z(""),Q(""),K("0"),ce.current.value="",ue.current.value="",se.current.value="",oe.current.value="",_((function(e){return!e}))})).catch((function(e){console.log("error=",e),ae(le("errormessagesavecustomer")),Y(!1)})),alert(le("savealertmessage"))},pe=[{name:le("fathershort"),value:"0"},{name:le("husbandshort"),value:"1"}],xe=N.map((function(e,r){return{label:e.customer+"-"+e.fathername,value:e._id,key:r}}));return(0,m.jsxs)(c.Z,{children:[(0,m.jsx)("h2",{className:"text-center",children:le("customerheadername")}),(0,m.jsx)(u.Z,{className:"justify-content-md-center mt-5 ",children:(0,m.jsxs)(s.Z,{validated:U,children:[(0,m.jsx)(u.Z,{children:(0,m.jsx)(o.Z,{xs:12,md:4,className:"rounded bg-white",children:(0,m.jsxs)(s.Z.Group,{className:"mb-3",name:"customername",border:"primary",children:[(0,m.jsx)(s.Z.Label,{children:le("customer")}),(0,m.jsx)(C.ZP,{"aria-label":"Default select example",required:!0,autoFocus:!0,value:xe.filter((function(e){return e.value===he.mySelectKey})),getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},onChange:function(e){return function(e){ve((0,a.Z)((0,a.Z)({},he),{},{mySelectKey:e}));var r=N.filter((function(r){return r._id===e}));0==he.mySelectKey?(f(""),Z(""),Q(""),K("0"),ce.current.value="",ue.current.value="",se.current.value="",oe.current.value="",P(null)):(f(r[0].customer),Z(r[0].mobileno),Q(r[0].city_id),K(1==r[0].relationtype?"1":"0"),ce.current.value=r[0].fathername,ue.current.value=r[0].address,se.current.value=r[0].work,oe.current.value=r[0].referencecity,P(r[0]._id))}(e.value)},options:xe,placeholder:le("customer")})]})})}),(0,m.jsxs)(u.Z,{children:[(0,m.jsx)(o.Z,{xs:12,md:4,className:"rounded bg-white",children:(0,m.jsxs)(s.Z.Group,{className:"mb-3",name:"customername",border:"primary",children:[(0,m.jsx)(s.Z.Label,{children:le("customer")}),(0,m.jsx)(s.Z.Control,{type:"text",placeholder:le("customerplaceholderlabel"),required:!0,value:t,onChange:function(e){return f(e.target.value)},autoFocus:!0})]})}),(0,m.jsx)(o.Z,{xs:12,md:3,className:"rounded bg-white",children:(0,m.jsxs)(s.Z.Group,{className:"mb-3",name:"mobilenumber",border:"primary",children:[(0,m.jsx)(s.Z.Label,{children:le("phoneno")}),(0,m.jsx)(s.Z.Control,{type:"text",placeholder:le("phonenoplaceholder"),required:!0,value:b,onChange:function(e){return Z(e.target.value)}})]})}),(0,m.jsx)(o.Z,{xs:12,md:3,className:"rounded bg-white",children:(0,m.jsxs)(s.Z.Group,{className:"mb-3",name:"cityname",border:"primary",children:[(0,m.jsx)(s.Z.Label,{children:le("city")}),(0,m.jsxs)(s.Z.Select,{"aria-label":"Default select example",value:M,onChange:function(e){return Q(e.target.value)},onClick:function(e){var r=B.filter((function(r){return r._id===e.target.value}));r.length>0&&(oe.current.value=r[0].cityname)},required:!0,children:[(0,m.jsx)("option",{value:"",children:le("cityplaceholder")},M),B.map((function(e){return(0,m.jsx)("option",{value:e._id,children:e.cityname},e._id)}))]})]})}),(0,m.jsx)(o.Z,{xs:12,md:2,className:"rounded bg-white",children:(0,m.jsxs)(s.Z.Group,{className:"mb-3",name:"work",border:"primary",children:[(0,m.jsx)(s.Z.Label,{children:le("city")}),(0,m.jsx)(s.Z.Control,{type:"text",placeholder:le("city"),ref:oe,required:!0})]})})]}),(0,m.jsxs)(u.Z,{children:[(0,m.jsx)(o.Z,{xs:12,md:4,className:"rounded bg-white",children:(0,m.jsxs)(s.Z.Group,{className:"mb-3",name:"fathername",border:"primary",children:[(0,m.jsx)(j,{className:"mb-2",children:pe.map((function(e,r){return(0,m.jsx)(w,{id:"radio-".concat(r),type:"radio",variant:"outline-primary",name:"radio",size:"sm",value:e.value,checked:F===e.value,onChange:function(e){return K(e.currentTarget.value)},children:e.name},r)}))}),(0,m.jsx)(s.Z.Control,{type:"text",placeholder:le("fatherhusbandnameplaceholder"),ref:ce,required:!0})]})}),(0,m.jsx)(o.Z,{xs:12,md:4,className:"rounded bg-white",children:(0,m.jsxs)(s.Z.Group,{className:"mb-3",name:"address1",border:"primary",children:[(0,m.jsx)(s.Z.Label,{children:le("address")}),(0,m.jsx)(s.Z.Control,{type:"text",placeholder:le("addressplaceholder"),ref:ue,required:!0})]})}),(0,m.jsx)(o.Z,{xs:12,md:4,className:"rounded bg-white",children:(0,m.jsxs)(s.Z.Group,{className:"mb-3",name:"work",border:"primary",children:[(0,m.jsx)(s.Z.Label,{children:le("work")}),(0,m.jsx)(s.Z.Control,{type:"text",placeholder:le("workplaceholder"),ref:se,required:!0})]})})]}),(0,m.jsxs)(u.Z,{className:"rounded bg-white text-center",children:[(0,m.jsxs)("div",{className:"col-md-12 mb-4 ",children:[(0,m.jsx)(i.Z,{variant:"primary",size:"lg",type:"button",className:"text-center",onClick:E?function(){Y(!0),h.Z.put("".concat(v.v,"/update/").concat(E),{customer:t,mobileno:b,cityid:M,fathername:ce.current.value,address:ue.current.value,work:se.current.value,relationtype:Number(F),referencecity:oe.current.value}).then((function(e){Y(!1),_((function(e){return!e})),f(""),Z(""),Q(""),K("0"),ce.current.value="",ue.current.value="",se.current.value="",oe.current.value="",P(null),ve(ie)})).catch((function(e){console.log("error=",e),ae(le("errormessagesavecustomer")),Y(!1)})),alert(le("savealertmessage"))}:function(e){!1===e.currentTarget.checkValidity()&&e.preventDefault(),$(!0),""!==t&&""!=b&&""!==M&&""!==ce.current.value&&""!==ue.current.value&&""!==se.current.value&&""!=oe.current.value&&fe()},children:le("savebutton")})," ",(0,m.jsx)(i.Z,{variant:"primary",size:"lg",type:"button",className:"text-center",onClick:function(){f(""),Z(""),Q(""),K("0"),ce.current.value="",ue.current.value="",se.current.value="",oe.current.value="",P(null),ve(ie)},children:le("newbutton")})]}),te&&(0,m.jsx)("div",{className:"error",children:te})]})]})})]})}}}]);
//# sourceMappingURL=917.22b3d120.chunk.js.map