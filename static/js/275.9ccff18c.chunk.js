"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[275],{275:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var a=t(9439),r=t(2791),c=t(7022),i=t(9743),s=t(3855),l=t(2677),o=t(3360),d=t(3433),u=(t(7632),t(2591)),h=t(8116),m=t(9126),x=t(1243),f=t(2073),j=t(184),Z=function(e){var n=e.linemannames,t=e.setUpdateUI,c=(0,r.useState)(1),i=(0,a.Z)(c,2),s=i[0],l=i[1],o=5*s,Z=o-5,v=n.slice(Z,o),p=Math.ceil(Object.keys(n).length/5),b=(0,d.Z)(Array(p+1).keys()).slice(1),N=0;N=5*(s-1);return(0,j.jsx)(r.Fragment,{children:(0,j.jsxs)("div",{style:{margin:"5rem"},children:[(0,j.jsxs)(u.Z,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{children:"No"}),(0,j.jsx)("th",{children:"Name"}),(0,j.jsx)("th",{children:"Mobile No"}),(0,j.jsx)("th",{children:"Action"})]})}),(0,j.jsx)("tbody",{children:v&&v.length>0?v.map((function(e){return N+=1,(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:N}),(0,j.jsx)("td",{children:e.linemanname}),(0,j.jsx)("td",{children:e.mobileno}),(0,j.jsx)("td",{children:(0,j.jsx)(m.yvY,{className:"icons",onClick:function(){return n=e._id,void x.Z.delete("".concat(f.v,"/linemancreate/delete/").concat(n)).then((function(e){t((function(e){return!e}))}));var n}})})]})})):"No Data Available"})]}),(0,j.jsx)("nav",{children:(0,j.jsxs)(h.Z,{children:[(0,j.jsx)(h.Z.Prev,{children:(0,j.jsx)("a",{href:"#",className:"page-link",onClick:function(){s!==Z&&l(s-1)},children:"Prev"})}),b.map((function(e,n){return(0,j.jsx)(h.Z.Item,{children:(0,j.jsx)("a",{href:"#",className:"page-link",onClick:function(){l(e)},children:e})})})),(0,j.jsx)(h.Z.Next,{children:(0,j.jsx)("a",{href:"#",className:"page-link",onClick:function(){s!==o&&(N=o,l(s+1))},children:"Next"})})]})})]})})};var v=t(1413),p=t(5987),b=t(1694),N=t.n(b),g=t(162),y=["animation","bg","bsPrefix","size"],k=["className"];function C(e){var n=e.animation,t=e.bg,r=e.bsPrefix,c=e.size,i=(0,p.Z)(e,y);r=(0,g.vE)(r,"placeholder");var s=(0,l.r)(i),o=(0,a.Z)(s,1)[0],d=o.className,u=(0,p.Z)(o,k);return(0,v.Z)((0,v.Z)({},u),{},{className:N()(d,n?"".concat(r,"-").concat(n):r,c&&"".concat(r,"-").concat(c),t&&"bg-".concat(t))})}var S=r.forwardRef((function(e,n){var t=C(e);return(0,j.jsx)(o.Z,(0,v.Z)((0,v.Z)({},t),{},{ref:n,disabled:!0,tabIndex:-1}))}));S.displayName="PlaceholderButton";var w=S,M=["as"],U=r.forwardRef((function(e,n){var t=e.as,a=void 0===t?"span":t,r=C((0,p.Z)(e,M));return(0,j.jsx)(a,(0,v.Z)((0,v.Z)({},r),{},{ref:n}))}));U.displayName="Placeholder";var A=Object.assign(U,{Button:w});function E(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(A,{as:"p",animation:"glow",children:(0,j.jsx)(A,{xs:12})}),(0,j.jsx)(A,{as:"p",animation:"wave",children:(0,j.jsx)(A,{xs:12})})]})}var P=t(9230),I=0;var L=function(){var e=(0,r.useState)(""),n=(0,a.Z)(e,2),t=n[0],d=n[1],u=(0,r.useState)(""),h=(0,a.Z)(u,2),m=h[0],v=h[1],p=(0,r.useState)([]),b=(0,a.Z)(p,2),N=b[0],g=b[1],y=(0,r.useState)(!1),k=(0,a.Z)(y,2),C=k[0],S=k[1],w=(0,r.useState)(null),M=(0,a.Z)(w,2),U=M[0],A=M[1],L=(0,r.useState)(!1),z=(0,a.Z)(L,2),D=z[0],G=z[1],R=(0,r.useState)(""),_=(0,a.Z)(R,2),q=_[0],B=_[1],F=(0,P.$G)(),O=F.t;F.i18n,(0,r.useEffect)((function(){G(!0),x.Z.get("".concat(f.v,"/linemancreate/get")).then((function(e){g(e.data),G(!1)})).catch((function(e){console.log("error=",e),B("Unable to fetch linenam list"),G(!1)}))}),[C]),(0,r.useEffect)((function(){G(!0),x.Z.get("".concat(f.v,"/linemancreate/get/max")).then((function(e){var n=e.data;G(!1),I=e.data.length>0?n[0].maxCode+1:1})).catch((function(e){B("Unable to fetch lineman list"),G(!1),console.log("error=",e)}))}),[]);var T=(0,j.jsx)("div",{className:"text-center",children:(0,j.jsx)(Z,{linemannames:N,setUpdateUI:S})});return(0,j.jsxs)(c.Z,{style:{display:"flex"},children:[(0,j.jsx)("h2",{className:"text-center",children:"LINEMAN MASTER"}),(0,j.jsx)(i.Z,{className:"justify-content-md-center mt-5 ",children:(0,j.jsxs)(s.Z,{children:[(0,j.jsx)(i.Z,{className:"rounded bg-white",children:(0,j.jsx)(l.Z,{xs:12,md:12,children:(0,j.jsxs)(s.Z.Group,{className:"mb-3",name:"linemanname",border:"primary",children:[(0,j.jsx)(s.Z.Label,{children:"LineMan Name"}),(0,j.jsx)(s.Z.Control,{type:"text",placeholder:O("placeholder"),required:!0,value:t,onChange:function(e){return d(e.target.value)}})]})})}),(0,j.jsx)(i.Z,{className:"rounded bg-white",children:(0,j.jsx)(l.Z,{xs:12,md:12,children:(0,j.jsxs)(s.Z.Group,{className:"mb-3",name:"mobilenumber",border:"primary",children:[(0,j.jsx)(s.Z.Label,{children:"Mobile No"}),(0,j.jsx)(s.Z.Control,{type:"number",placeholder:"Enter Mobile No",required:!0,value:m,onChange:function(e){return v(e.target.value)}})]})})}),(0,j.jsxs)(i.Z,{className:"rounded bg-white",children:[(0,j.jsx)("div",{className:"text-center mb-2 ",children:(0,j.jsx)(o.Z,{variant:"primary",size:"lg",type:"submit",className:"text-center",onClick:U?function(){G(!0),x.Z.put("".concat(f.v,"/linemancreate/update/").concat(U),{linemanname:t,mobileno:m}).then((function(e){G(!1),S((function(e){return!e})),d(""),v(""),A(null)})).catch((function(e){B("Unable to update LineMan to the list"),G(!1),console.log("error=",e)}))}:function(){G(!0),x.Z.post("".concat(f.v,"/linemancreate/save"),{linemancode:I,linemanname:t,mobileno:m}).then((function(e){G(!1),d(""),v(""),S((function(e){return!e}))})).catch((function(e){B("Unable to ADD lineman to the list"),G(!1),console.log("error=",e)}))},children:"Submit"})}),D?(0,j.jsx)(E,{}):T,q&&(0,j.jsx)("div",{className:"error",children:q})]})]})})]})}},2073:function(e,n,t){t.d(n,{v:function(){return a}});var a="https://loan-app-backend-77d2e30338cf.herokuapp.com"}}]);
//# sourceMappingURL=275.9ccff18c.chunk.js.map